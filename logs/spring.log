2019-08-27 10:28:00.093 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 12588 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 10:28:00.146 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 10:28:00.207 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@e8df99a: startup date [Tue Aug 27 10:28:00 CST 2019]; root of context hierarchy
2019-08-27 10:28:03.438 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 10:28:03.468 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 10:28:03.519 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 10:28:03.519 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 10:28:03.580 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 10:28:03.862 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 10:28:04.938 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 10:28:04.946 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 10:28:04.946 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 10:28:04.946 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 10:28:04.947 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 10:28:04.947 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 10:28:06.789 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 10:28:07.462 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 10:28:07.465 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 10:28:07.470 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 10:28:07.485 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 10:28:07.501 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 10:28:07.530 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 10:28:07.534 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 8.071 seconds (JVM running for 9.137)
2019-08-27 10:29:05.636 [http-nio-8083-exec-10] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 10:29:05.839 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.145 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.154 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.250 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.433 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.434 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.434 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.434 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.434 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.443 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.528 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.530 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.530 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.531 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.531 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.535 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.543 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.543 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.554 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.554 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.626 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.634 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.642 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.642 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.720 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.724 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.727 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.729 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:06.829 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.838 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.842 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:06.842 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:07.023 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:07.109 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:13.364 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:13.444 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:13.574 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 10:29:14.371 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 10:29:14.381 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==>  Preparing: SELECT `account_id`, `account_name`, `account_pwd`, `created_date` FROM account where account_id=? and account_pwd=? 
2019-08-27 10:29:14.416 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==> Parameters: admin(String), adminpwd(String)
2019-08-27 10:29:14.481 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - <==      Total: 1
2019-08-27 10:29:14.516 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==>  Preparing: SELECT a.id, a.account_id, a.role_id, a.created_date, h.role_name FROM account_role a, hotel_role h WHERE a.role_id = h.role_id AND account_id=? 
2019-08-27 10:29:14.516 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==> Parameters: admin(String)
2019-08-27 10:29:14.567 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - <==      Total: 1
2019-08-27 10:29:14.694 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:14.777 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:14.872 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:14.873 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:14.878 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:14.880 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:14.886 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:14.893 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:14.960 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:14.962 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:14.964 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:14.964 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:14.972 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:14.978 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:15.085 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:15.085 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:15.088 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:15.145 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:15.166 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:15.167 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:15.175 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:15.226 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:15.305 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==>  Preparing: SELECT role_id FROM account_role where account_id=? 
2019-08-27 10:29:15.306 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==> Parameters: admin(String)
2019-08-27 10:29:15.358 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - <==      Total: 1
2019-08-27 10:29:17.051 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.055 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.137 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.138 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.175 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.175 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.177 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.178 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.179 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.261 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.261 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.264 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.265 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.270 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.305 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.305 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.308 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.310 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.367 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:17.389 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.389 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.392 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.393 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.446 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:17.531 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:29:17.531 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 10:29:17.585 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 10:29:17.586 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 10:29:17.587 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs3(String)
2019-08-27 10:29:17.640 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 10:29:17.687 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%22usercode%22%3A%22X1908231712130088750%22%7D&charset=UTF-8&method=ysepay.merchant.register.query&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=&sign_type=RSA&timestamp=2019-08-27 10:29:17&version=3.0
2019-08-27 10:29:18.419 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"DE9/j6BaqKmWz7uFvSFFK1NEAWmDfSpBOYYG9kzQqDwxcjQBcRt89AjxbrdZ2uNu1O4OZwZZY9kpoIXMe//v4m8UMoR+u6Offm+KAwFOWEPlMYmWcO0AXtfzBCc8BI5eJctk03NuB2sUbZbdj3+GhYYBHZO/MYDLsFw/pytsL0I=","ysepay_merchant_register_query_response":{"code":"40001","msg":"Missing Required Arguments","sub_code":"isv.missing-signature","sub_msg":"缺少签名参数"}}
2019-08-27 10:29:18.420 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.HtmlService - [查询银盛注册结果返回消息===={"sign":"DE9/j6BaqKmWz7uFvSFFK1NEAWmDfSpBOYYG9kzQqDwxcjQBcRt89AjxbrdZ2uNu1O4OZwZZY9kpoIXMe//v4m8UMoR+u6Offm+KAwFOWEPlMYmWcO0AXtfzBCc8BI5eJctk03NuB2sUbZbdj3+GhYYBHZO/MYDLsFw/pytsL0I=","ysepay_merchant_register_query_response":{"code":"40001","msg":"Missing Required Arguments","sub_code":"isv.missing-signature","sub_msg":"缺少签名参数"}}]
2019-08-27 10:29:18.508 [http-nio-8083-exec-3] ERROR com.laizhong.hotel.service.HtmlService - [查询注册信息失败，错误原因==缺少签名参数]
2019-08-27 10:29:18.530 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:18.533 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:18.535 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:18.536 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:18.539 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:29:18.611 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:18.619 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:18.619 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:18.619 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:29:18.623 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:30:58.843 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 17256 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 10:30:58.848 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 10:30:58.902 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@403f0a22: startup date [Tue Aug 27 10:30:58 CST 2019]; root of context hierarchy
2019-08-27 10:31:00.734 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 10:31:00.755 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 10:31:00.773 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 10:31:00.774 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 10:31:00.786 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 10:31:00.904 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 10:31:01.499 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 10:31:01.504 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 10:31:01.504 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 10:31:01.504 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 10:31:01.505 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 10:31:01.505 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 10:31:02.443 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 10:31:02.816 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 10:31:02.818 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 10:31:02.822 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 10:31:02.832 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 10:31:02.843 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 10:31:02.861 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 10:31:02.865 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 4.641 seconds (JVM running for 5.453)
2019-08-27 10:31:39.962 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 10:31:40.134 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:40.436 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:40.455 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:40.538 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:47.164 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:47.244 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:47.333 [http-nio-8083-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 10:31:48.145 [http-nio-8083-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 10:31:48.153 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==>  Preparing: SELECT `account_id`, `account_name`, `account_pwd`, `created_date` FROM account where account_id=? and account_pwd=? 
2019-08-27 10:31:48.172 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==> Parameters: admin(String), amdinpwd(String)
2019-08-27 10:31:48.250 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - <==      Total: 0
2019-08-27 10:31:48.343 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:48.457 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:53.889 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:53.997 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:54.049 [http-nio-8083-exec-6] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==>  Preparing: SELECT `account_id`, `account_name`, `account_pwd`, `created_date` FROM account where account_id=? and account_pwd=? 
2019-08-27 10:31:54.049 [http-nio-8083-exec-6] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==> Parameters: admin(String), adminpwd(String)
2019-08-27 10:31:54.106 [http-nio-8083-exec-6] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - <==      Total: 1
2019-08-27 10:31:54.132 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==>  Preparing: SELECT a.id, a.account_id, a.role_id, a.created_date, h.role_name FROM account_role a, hotel_role h WHERE a.role_id = h.role_id AND account_id=? 
2019-08-27 10:31:54.132 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==> Parameters: admin(String)
2019-08-27 10:31:54.190 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - <==      Total: 1
2019-08-27 10:31:54.229 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:54.311 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:54.403 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:54.510 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:54.525 [http-nio-8083-exec-8] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==>  Preparing: SELECT role_id FROM account_role where account_id=? 
2019-08-27 10:31:54.526 [http-nio-8083-exec-8] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==> Parameters: admin(String)
2019-08-27 10:31:54.579 [http-nio-8083-exec-8] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - <==      Total: 1
2019-08-27 10:31:56.182 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:56.265 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:56.325 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:31:56.407 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:31:56.467 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:31:56.467 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 10:31:56.521 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 10:31:56.522 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 10:31:56.523 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs3(String)
2019-08-27 10:31:56.575 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 10:31:56.790 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%22usercode%22%3A%22X1908231712130088750%22%7D&charset=UTF-8&method=ysepay.merchant.register.query&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=STAt0yFcHFDQ1uqg3FLETSwDkFwJ6jbawGC%2FolU4u%2B0Nwv32CzToiepWed8SUKhyXnfsSBckx%2FGVQk9ZEcmJsOenLeQZkzjC0RlXwat8T2p4rSPtOkkTfc9JUIOGOr%2F%2FmaaPPC9PL5Hv1gEXO4EmIzW8X2tjIBGKvOX5B9rkQXc%2FjA%2FyEplpoJzBpMQOT6p2JMZbcWetOa41CvblF52pNu1aBwEiGP%2FLoldYcYryEan5vK0cAtZZKNZfCCMMLL6RsAl19bwRvdABNxhB5VDlf09LVH10EPTBR1ePY5f55GgMeMCNXu1455GXQcWBJHAyYCZES0Ewbk2L3yCgkw6rEg%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:31:56&version=3.0
2019-08-27 10:31:57.268 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"m1rabzjjOzjloFWuF9aTK6GtYpNc3+/CjVZltb6sQEIyJohCc+KU+4wlQBRzKhZzaZMiVB//ltavvAq1TmXIDZzuiJAQ7p+y6M+5dA3f/GWFCIoyGDKJXcS8CWBkQjp66g1YHpQX4q6J1xDkRax1uJyiYVxwMYcBW8225azRUtk=","ysepay_merchant_register_query_response":{"code":"10000","msg":"Success","usercode":"X1908231712130088750","custname":"深圳市创宏视科技有限公司","custid":"2019082312198421","user_status":"生效","createtime":"20190823","cust_status":"审核失败","is_need_contract":"N","merchant_no":"lzxx-chs3","note":"审核不通过"}}
2019-08-27 10:31:57.268 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.service.HtmlService - [查询银盛注册结果返回消息===={"sign":"m1rabzjjOzjloFWuF9aTK6GtYpNc3+/CjVZltb6sQEIyJohCc+KU+4wlQBRzKhZzaZMiVB//ltavvAq1TmXIDZzuiJAQ7p+y6M+5dA3f/GWFCIoyGDKJXcS8CWBkQjp66g1YHpQX4q6J1xDkRax1uJyiYVxwMYcBW8225azRUtk=","ysepay_merchant_register_query_response":{"code":"10000","msg":"Success","usercode":"X1908231712130088750","custname":"深圳市创宏视科技有限公司","custid":"2019082312198421","user_status":"生效","createtime":"20190823","cust_status":"审核失败","is_need_contract":"N","merchant_no":"lzxx-chs3","note":"审核不通过"}}]
2019-08-27 10:31:57.393 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==>  Preparing: update ys_account_info SET user_status = ?, cust_statue = ? WHERE merchant_no=? AND hotel_code=? 
2019-08-27 10:31:57.393 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==> Parameters: 生效(String), 审核失败(String), lzxx-chs3(String), H1(String)
2019-08-27 10:31:57.495 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 10:33:00.610 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:33:00.802 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:33:00.824 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.HtmlService - 
--------------------->[path]E:\projects\laizhong\hotel\src\main\resources\static\img\ac2b8682-3f82-4ffb-9716-492168479886.jpg
2019-08-27 10:33:00.834 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:33:00.935 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:33:27.994 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:33:28.096 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:33:28.285 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where merchant_no = ? and hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:33:28.287 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: lzxx-chs4(String), H1(String)
2019-08-27 10:33:28.341 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 0
2019-08-27 10:33:28.396 [http-nio-8083-exec-5] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - ==>  Preparing: insert into ys_account_info (`merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date ) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,? ) 
2019-08-27 10:33:28.398 [http-nio-8083-exec-5] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - ==> Parameters: lzxx-chs4(String), H1(String), 第二测试用户(String), B(String), 创宏视(String), 深圳市创宏视科技有限公司(String), 11(String), 59(String), 广东省(String), 深圳市(String), 宝安区石岩街道石新社区洲石路旭兴达工业区A1栋2楼东侧(String), 钟文峰(String), 18244978867(String), 00(String), 362427198707237311(String), 20370531(String), 91440300MA5DR4HB4Q(String), 20991231(String), 44250100008000000873(String), 深圳市创宏视科技有限公司(String), corporate(String), debit(String), 中国建设银行股份有限公司深圳皇岗支行(String), 建设银行(String), 广东省(String), 深圳市(String), 00(String), 362427198707237311(String), 18244978867(String), null, null, null, null, null, null, null, 2019-08-27 10:33:28.395(Timestamp)
2019-08-27 10:33:28.501 [http-nio-8083-exec-5] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - <==    Updates: 1
2019-08-27 10:33:28.502 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:33:28.502 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs4(String), 00(String)
2019-08-27 10:33:28.553 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:33:28.554 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:33:28.556 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs4(String), 00(String), /static/img/5497bc19-3e5a-44a0-9381-5a9e4fa5f373.jpg(String)
2019-08-27 10:33:28.658 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:33:28.659 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:33:28.660 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs4(String), 30(String)
2019-08-27 10:33:28.711 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:33:28.712 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:33:28.714 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs4(String), 30(String), /static/img/3f2e0e8b-0699-46de-a8c4-064307273f17.jpg(String)
2019-08-27 10:33:28.815 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:33:28.817 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:33:28.818 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs4(String), 31(String)
2019-08-27 10:33:28.869 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:33:28.872 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:33:28.873 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs4(String), 31(String), /static/img/ac2b8682-3f82-4ffb-9716-492168479886.jpg(String)
2019-08-27 10:33:28.985 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:33:28.986 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:33:28.988 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs4(String), 19(String)
2019-08-27 10:33:29.040 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:33:29.040 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:33:29.041 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs4(String), 19(String), /static/img/64b81f19-dbe7-41b7-a4ea-f37a16abf408.jpg(String)
2019-08-27 10:33:29.142 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:33:29.143 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:33:29.143 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs4(String), 37(String)
2019-08-27 10:33:29.193 [http-nio-8083-exec-5] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:33:29.193 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:33:29.193 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs4(String), 37(String), /static/img/f3713d00-593a-4298-bc2c-c38cbc5400be.jpg(String)
2019-08-27 10:33:29.294 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:33:31.144 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:33:31.223 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:33:31.277 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where merchant_no = ? and hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:33:31.278 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: lzxx-chs4(String), H1(String)
2019-08-27 10:33:31.331 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 10:33:31.356 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%7D&charset=UTF-8&method=ysepay.merchant.register.token.get&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=CiK9P0Nlz0vWekUkXSoCygSSEbwUfStpwYFtVI5TxHI%2BGEpYabwJbQa4sGfJT2ykbRCtyGahGZAXIyYo3KlFv03DG7ZG1udrtA5pt838i3PFh5eFJBfSSzXCLQzv9drnfZfG5ySq30TNgqL5Y91OjTQ2gZDlWJiAPfK3y259eUDnMWi%2FaQ4gTh9zHGlhHgQfHsSWO5dVKSSLSrTYrMK%2FypF5jK%2FohtccLNSfn8U2kXrG9TbIBCK6QVKdREG6jN1BCGuVF431PKK19olGBFB7tt305zUK4TL3%2BOiD7ns05S7nfF4OSj01oCQWyNjB%2FLLYJsUXUIEXe6kOdDeGlCTyYg%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:33:31&version=3.0
2019-08-27 10:33:31.826 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"IJOH6SPtjzc2gNwfZvNLl0zBDm/sbC6uteHRh0eU0Y4nvLC7ma6XSGHeWttx1mseN4GJJwuIuAt6dmdAYUbP5Mm6dDkVwcYPhFg3mBeIINk6yxHFd7lPIZfWGbe81NOwsVaA21RdjjnwzoKE+RxHuXNpvMA1I3Lbl3lYezA0HUA=","ysepay_merchant_register_token_get_response":{"code":"10000","msg":"Success","token":"TK201908271033335641jQyHnIo","token_status":"TOKEN_GET_SUCCESS"}}
2019-08-27 10:33:31.828 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 10:33:31.828 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs4(String)
2019-08-27 10:33:31.880 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 10:33:33.537 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs4的图片结果=={"isSuccess":true,"token":"TK201908271033335641jQyHnIo"}]
2019-08-27 10:33:35.171 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs4的图片结果=={"isSuccess":true,"token":"TK201908271033335641jQyHnIo"}]
2019-08-27 10:33:36.416 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs4的图片结果=={"isSuccess":true,"token":"TK201908271033335641jQyHnIo"}]
2019-08-27 10:33:37.438 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs4的图片结果=={"isSuccess":true,"token":"TK201908271033335641jQyHnIo"}]
2019-08-27 10:33:38.761 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs4的图片结果=={"isSuccess":true,"token":"TK201908271033335641jQyHnIo"}]
2019-08-27 10:33:56.393 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%22sub_account_flag%22%3A%22Y%22%2C%22settle_type%22%3A%221%22%2C%22cert_type%22%3A%2200%22%2C%22city%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%22%2C%22company_addr%22%3A%22%E5%AE%9D%E5%AE%89%E5%8C%BA%E7%9F%B3%E5%B2%A9%E8%A1%97%E9%81%93%E7%9F%B3%E6%96%B0%E7%A4%BE%E5%8C%BA%E6%B4%B2%E7%9F%B3%E8%B7%AF%E6%97%AD%E5%85%B4%E8%BE%BE%E5%B7%A5%E4%B8%9A%E5%8C%BAA1%E6%A0%8B2%E6%A5%BC%E4%B8%9C%E4%BE%A7%22%2C%22industry%22%3A%2259%22%2C%22province%22%3A%22%E5%B9%BF%E4%B8%9C%E7%9C%81%22%2C%22cust_type%22%3A%22B%22%2C%22bank_card_type%22%3A%22debit%22%2C%22bank_name%22%3A%22%E4%B8%AD%E5%9B%BD%E5%BB%BA%E8%AE%BE%E9%93%B6%E8%A1%8C%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E6%B7%B1%E5%9C%B3%E7%9A%87%E5%B2%97%E6%94%AF%E8%A1%8C%22%2C%22bus_license%22%3A%2291440300MA5DR4HB4Q%22%2C%22cust_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%88%9B%E5%AE%8F%E8%A7%86%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22bus_license_expire%22%3A%2220991231%22%2C%22legal_name%22%3A%22%E9%92%9F%E6%96%87%E5%B3%B0%22%2C%22bank_account_type%22%3A%22corporate%22%2C%22org_no%22%3A%226240000010%22%2C%22merchant_no%22%3A%22lzxx-chs4%22%2C%22legal_cert_type%22%3A%2200%22%2C%22cert_no%22%3A%22uo43t4wwD9258rXiNfONLj4hewqo10oH%22%2C%22bank_type%22%3A%22%E5%BB%BA%E8%AE%BE%E9%93%B6%E8%A1%8C%22%2C%22bank_account_no%22%3A%2244250100008000000873%22%2C%22legal_tel%22%3A%2218244978867%22%2C%22bank_province%22%3A%22%E5%B9%BF%E4%B8%9C%E7%9C%81%22%2C%22token%22%3A%22TK201908271033335641jQyHnIo%22%2C%22bank_account_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%88%9B%E5%AE%8F%E8%A7%86%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22bank_telephone_no%22%3A%2218244978867%22%2C%22another_name%22%3A%22%E5%88%9B%E5%AE%8F%E8%A7%86%22%2C%22legal_cert_no%22%3A%22uo43t4wwD9258rXiNfONLj4hewqo10oH%22%2C%22bank_city%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%22%7D&charset=UTF-8&method=ysepay.merchant.register.accept&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=Ls6iaoyauWCKrcrUTayWpCk20FGuLJYLrVPZSMqX6PfTnjfjvhok3%2FuLqt770GtT1ucfCdv9ihhNGUW2MLpRdmj2mlEPEevNHJh5ol%2BhpWlqvUwq92RkCAJ%2F33GTl8raaJKP9qLJ9FZ2Ia6GWMmezAWz%2FmM0rXW5yQGpceM2Ut%2BqYbMEreppOimgDKD1bciTu7osL4o6xJVj1qtaflBrh%2B%2B2uB137E78C7p7fbhKxTJQCQJnOthuD%2BdtQ7zmUjLqwso4myNh89nqHspPeWQW%2BB9AdwN%2BAXvqdHOs3vOpIcFMyeb9A6YM70DFeCuXjEHL%2FfD8kubScH5UST%2BaJ4sP%2BA%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:33:38&version=3.0
2019-08-27 10:34:04.718 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"o8V9bc/vxXgy6/lyW39vGGozKNU6ejEtETDckbZqrb5SjPheCrOfu2qJaohxD/NNwwZuYKaiK0nHckknQgL8DtgMQ5xIVqwKNdwYB4lj80zDjeVyd1BXg1uGTT/PBv7AXtZczyhgOHmEEt6RDRYzaxvOK4bBVzcTH6briUwgRkY=","ysepay_merchant_register_accept_response":{"code":"10000","msg":"Success","usercode":"X1908271034030089688","custname":"深圳市创宏视科技有限公司","custid":"2019082712246120","user_status":"审核失败","createtime":"20190827"}}
2019-08-27 10:34:04.718 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.service.HtmlService - [注册子商户返回信息==={"sign":"o8V9bc/vxXgy6/lyW39vGGozKNU6ejEtETDckbZqrb5SjPheCrOfu2qJaohxD/NNwwZuYKaiK0nHckknQgL8DtgMQ5xIVqwKNdwYB4lj80zDjeVyd1BXg1uGTT/PBv7AXtZczyhgOHmEEt6RDRYzaxvOK4bBVzcTH6briUwgRkY=","ysepay_merchant_register_accept_response":{"code":"10000","msg":"Success","usercode":"X1908271034030089688","custname":"深圳市创宏视科技有限公司","custid":"2019082712246120","user_status":"审核失败","createtime":"20190827"}}]
2019-08-27 10:34:04.769 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==>  Preparing: update ys_account_info SET user_code = ?, cust_id = ?, user_status = ? WHERE merchant_no=? AND hotel_code=? 
2019-08-27 10:34:04.770 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==> Parameters: X1908271034030089688(String), 2019082712246120(String), 审核失败(String), lzxx-chs4(String), H1(String)
2019-08-27 10:34:04.871 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 10:37:08.609 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 15468 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 10:37:08.624 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 10:37:08.658 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6dc17b83: startup date [Tue Aug 27 10:37:08 CST 2019]; root of context hierarchy
2019-08-27 10:37:09.974 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 10:37:09.991 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 10:37:10.007 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 10:37:10.007 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 10:37:10.016 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 10:37:10.100 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 10:37:10.569 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 10:37:10.573 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 10:37:10.573 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 10:37:10.573 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 10:37:10.573 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 10:37:10.573 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 10:37:11.032 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 10:37:11.239 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 10:37:11.240 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 10:37:11.245 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 10:37:11.253 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 10:37:11.263 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 10:37:11.274 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 10:37:11.277 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.058 seconds (JVM running for 3.426)
2019-08-27 10:37:34.338 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 10:37:34.492 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:34.748 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:37:34.761 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:34.854 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:37:41.394 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:41.476 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:37:41.541 [http-nio-8083-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 10:37:42.381 [http-nio-8083-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 10:37:42.388 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==>  Preparing: SELECT `account_id`, `account_name`, `account_pwd`, `created_date` FROM account where account_id=? and account_pwd=? 
2019-08-27 10:37:42.406 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==> Parameters: admin(String), adminwpd(String)
2019-08-27 10:37:42.488 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - <==      Total: 0
2019-08-27 10:37:46.784 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:46.878 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:37:46.938 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==>  Preparing: SELECT `account_id`, `account_name`, `account_pwd`, `created_date` FROM account where account_id=? and account_pwd=? 
2019-08-27 10:37:46.938 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==> Parameters: admin(String), adminpwd(String)
2019-08-27 10:37:46.994 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - <==      Total: 1
2019-08-27 10:37:47.014 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==>  Preparing: SELECT a.id, a.account_id, a.role_id, a.created_date, h.role_name FROM account_role a, hotel_role h WHERE a.role_id = h.role_id AND account_id=? 
2019-08-27 10:37:47.015 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==> Parameters: admin(String)
2019-08-27 10:37:47.070 [http-nio-8083-exec-5] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - <==      Total: 1
2019-08-27 10:37:47.098 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:47.188 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:37:47.284 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:47.364 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:37:47.372 [http-nio-8083-exec-7] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==>  Preparing: SELECT role_id FROM account_role where account_id=? 
2019-08-27 10:37:47.373 [http-nio-8083-exec-7] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==> Parameters: admin(String)
2019-08-27 10:37:47.428 [http-nio-8083-exec-7] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - <==      Total: 1
2019-08-27 10:37:48.820 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:48.901 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:37:48.967 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:49.058 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:37:49.120 [http-nio-8083-exec-9] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:37:49.121 [http-nio-8083-exec-9] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 10:37:49.179 [http-nio-8083-exec-9] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 10:37:49.181 [http-nio-8083-exec-9] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 10:37:49.182 [http-nio-8083-exec-9] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs4(String)
2019-08-27 10:37:49.236 [http-nio-8083-exec-9] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 10:37:49.419 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%22usercode%22%3A%22X1908271034030089688%22%7D&charset=UTF-8&method=ysepay.merchant.register.query&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=Lt4tmCbZJ5pwHnFS7jxLJKh5CK7aG%2FxCcneqESpKUxa2899tVt9dd4H0tnT7TphaMfybwNdihnvv7%2BKkSpijax9FbWE37Q3wHuvHdMAq6B7QbEDk%2Fw8BcxA%2FTPGLhxX6bJ%2FHhBFiaQEgCNrYWOsmXhygvhFhuy5OgmplBIQOfhsSAE3AW2jV1R1SlGe4axHx0gRHeX91G1eY4VjKVukhVl%2B00q8eM1HqRP3rHM%2FohEMSDZLb4F3Onqs4YhFf2m4O%2FYixSyyvNYrEHGAHtB3LoEM68a49cSlHNeTWqEHpyTCCbCiv1wUGCB%2F33gdiv5eRp%2FTvB3fYRrTR1APfU3OP7A%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:37:49&version=3.0
2019-08-27 10:37:50.080 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"ko12H5GgMEqWknK38jKJ0XeuhTFVuJdMXbNRrtbLBjEssDToaec5Uj194soDp27NSa2eZCSrHdUxYBmafrOibAfJ7d+LHNWsEgt9gZPX5AViy3XKVbtaxpCpf/adwCYPfI7k88p+dhfIsRANRGnUW0WjowVN86h/pDE6KU3/zdo=","ysepay_merchant_register_query_response":{"code":"10000","msg":"Success","usercode":"X1908271034030089688","custname":"深圳市创宏视科技有限公司","custid":"2019082712246120","user_status":"审核失败","createtime":"20190827","cust_status":"审核失败","is_need_contract":"N","merchant_no":"lzxx-chs4","note":"审核不通过"}}
2019-08-27 10:37:50.081 [http-nio-8083-exec-9] INFO  com.laizhong.hotel.service.HtmlService - [查询银盛注册结果返回消息===={"sign":"ko12H5GgMEqWknK38jKJ0XeuhTFVuJdMXbNRrtbLBjEssDToaec5Uj194soDp27NSa2eZCSrHdUxYBmafrOibAfJ7d+LHNWsEgt9gZPX5AViy3XKVbtaxpCpf/adwCYPfI7k88p+dhfIsRANRGnUW0WjowVN86h/pDE6KU3/zdo=","ysepay_merchant_register_query_response":{"code":"10000","msg":"Success","usercode":"X1908271034030089688","custname":"深圳市创宏视科技有限公司","custid":"2019082712246120","user_status":"审核失败","createtime":"20190827","cust_status":"审核失败","is_need_contract":"N","merchant_no":"lzxx-chs4","note":"审核不通过"}}]
2019-08-27 10:37:50.190 [http-nio-8083-exec-9] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==>  Preparing: update ys_account_info SET user_status = ?, cust_statue = ? WHERE merchant_no=? AND hotel_code=? 
2019-08-27 10:37:50.190 [http-nio-8083-exec-9] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==> Parameters: 审核失败(String), 审核失败(String), lzxx-chs4(String), H1(String)
2019-08-27 10:37:50.298 [http-nio-8083-exec-9] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 10:37:50.334 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:37:50.420 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:38:05.817 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:38:05.907 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:38:06.067 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where merchant_no = ? and hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:38:06.068 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: lzxx-chs5(String), H1(String)
2019-08-27 10:38:06.126 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 0
2019-08-27 10:38:06.185 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - ==>  Preparing: insert into ys_account_info (`merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date ) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,? ) 
2019-08-27 10:38:06.188 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - ==> Parameters: lzxx-chs5(String), H1(String), 第二测试用户(String), B(String), 创宏视(String), 深圳市创宏视科技有限公司(String), 11(String), 59(String), 广东省(String), 深圳市(String), 宝安区石岩街道石新社区洲石路旭兴达工业区A1栋2楼东侧(String), 钟文峰(String), 18244978867(String), 00(String), 362427198707237311(String), 20370531(String), 91440300MA5DR4HB4Q(String), 20991231(String), 44250100008000000873(String), 深圳市创宏视科技有限公司(String), corporate(String), debit(String), 中国建设银行股份有限公司深圳皇岗支行(String), 建设银行(String), 广东省(String), 深圳市(String), 00(String), 362427198707237311(String), 18244978867(String), null, null, null, null, null, null, null, 2019-08-27 10:38:06.184(Timestamp)
2019-08-27 10:38:06.295 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - <==    Updates: 1
2019-08-27 10:38:06.297 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:38:06.298 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs5(String), 00(String)
2019-08-27 10:38:06.351 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:38:06.352 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:38:06.352 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs5(String), 00(String), /static/img/5497bc19-3e5a-44a0-9381-5a9e4fa5f373.jpg(String)
2019-08-27 10:38:06.458 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:38:06.460 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:38:06.460 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs5(String), 30(String)
2019-08-27 10:38:06.514 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:38:06.515 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:38:06.517 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs5(String), 30(String), /static/img/3f2e0e8b-0699-46de-a8c4-064307273f17.jpg(String)
2019-08-27 10:38:06.623 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:38:06.625 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:38:06.626 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs5(String), 31(String)
2019-08-27 10:38:06.679 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:38:06.681 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:38:06.682 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs5(String), 31(String), /static/img/ac2b8682-3f82-4ffb-9716-492168479886.jpg(String)
2019-08-27 10:38:06.790 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:38:06.791 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:38:06.792 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs5(String), 19(String)
2019-08-27 10:38:06.846 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:38:06.848 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:38:06.850 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs5(String), 19(String), /static/img/64b81f19-dbe7-41b7-a4ea-f37a16abf408.jpg(String)
2019-08-27 10:38:06.957 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:38:06.959 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:38:06.960 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs5(String), 37(String)
2019-08-27 10:38:07.014 [http-nio-8083-exec-2] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:38:07.015 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:38:07.016 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs5(String), 37(String), /static/img/f3713d00-593a-4298-bc2c-c38cbc5400be.jpg(String)
2019-08-27 10:38:07.123 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:38:08.647 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:38:08.745 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:38:08.804 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where merchant_no = ? and hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:38:08.804 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: lzxx-chs5(String), H1(String)
2019-08-27 10:38:08.862 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 10:38:08.885 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%7D&charset=UTF-8&method=ysepay.merchant.register.token.get&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=BAimhU88VECXDWysGxjf3fLUBdd6soDKrUQhugRsOwS%2BRlmGRatZtqevKKwm7584UPczsvVRi0w4SiwWx%2FvQ8BCkY78nay51ikC23GqCXf%2FQdaZN%2FhLO5RJ6J4SW4M3BtvBhhGdzO%2Bq9OWeyt1Hl0ongSQ4miWPYJ%2Bi3G80cS06c80kcV5SzAzM0KhcHjnfNw92acepr%2FtUsPKcfdd2QJkKdWl14wYMMcNvRALEhbCKNy%2Fzva4IafLEKeQsePB%2BNEQa%2F9e0Z10MGRx6q1tghiQdGgA%2B6ObP%2BxgeWdQC38Kfahv3iZLYxcg%2F27Hphs0WrdyrA0PrYEN7WiNjZ7wA1kQ%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:38:08&version=3.0
2019-08-27 10:38:09.331 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"fIbohnDp3OksOKZOwwPrM0S0xnQP8OFebYDBCE6nFK5ClPDy+Tb8/c/9JAGmb1EObEDhZd4sg16sx8SLWnTBmG5GbhYEQGsRaEKDpt9P4/0I/OMSiLSAyxP5JuUNBEiFaVJCexvjoBaorfhS77S5QZw0/MnDZH6nbPz/qiyGQhk=","ysepay_merchant_register_token_get_response":{"code":"10000","msg":"Success","token":"TK20190827103810654IXePRhIy","token_status":"TOKEN_GET_SUCCESS"}}
2019-08-27 10:38:09.334 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 10:38:09.334 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs5(String)
2019-08-27 10:38:09.389 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 10:38:11.013 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs5的图片结果=={"isSuccess":true,"token":"TK20190827103810654IXePRhIy"}]
2019-08-27 10:38:12.637 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs5的图片结果=={"isSuccess":true,"token":"TK20190827103810654IXePRhIy"}]
2019-08-27 10:38:13.928 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs5的图片结果=={"isSuccess":true,"token":"TK20190827103810654IXePRhIy"}]
2019-08-27 10:38:14.961 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs5的图片结果=={"isSuccess":true,"token":"TK20190827103810654IXePRhIy"}]
2019-08-27 10:38:16.216 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs5的图片结果=={"isSuccess":true,"token":"TK20190827103810654IXePRhIy"}]
2019-08-27 10:38:16.235 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%22sub_account_flag%22%3A%22Y%22%2C%22settle_type%22%3A%221%22%2C%22cert_type%22%3A%2200%22%2C%22city%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%22%2C%22company_addr%22%3A%22%E5%AE%9D%E5%AE%89%E5%8C%BA%E7%9F%B3%E5%B2%A9%E8%A1%97%E9%81%93%E7%9F%B3%E6%96%B0%E7%A4%BE%E5%8C%BA%E6%B4%B2%E7%9F%B3%E8%B7%AF%E6%97%AD%E5%85%B4%E8%BE%BE%E5%B7%A5%E4%B8%9A%E5%8C%BAA1%E6%A0%8B2%E6%A5%BC%E4%B8%9C%E4%BE%A7%22%2C%22industry%22%3A%2259%22%2C%22province%22%3A%22%E5%B9%BF%E4%B8%9C%E7%9C%81%22%2C%22cust_type%22%3A%22B%22%2C%22bank_card_type%22%3A%22debit%22%2C%22bank_name%22%3A%22%E4%B8%AD%E5%9B%BD%E5%BB%BA%E8%AE%BE%E9%93%B6%E8%A1%8C%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E6%B7%B1%E5%9C%B3%E7%9A%87%E5%B2%97%E6%94%AF%E8%A1%8C%22%2C%22bus_license%22%3A%2291440300MA5DR4HB4Q%22%2C%22cust_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%88%9B%E5%AE%8F%E8%A7%86%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22bus_license_expire%22%3A%2220991231%22%2C%22legal_name%22%3A%22%E9%92%9F%E6%96%87%E5%B3%B0%22%2C%22bank_account_type%22%3A%22corporate%22%2C%22org_no%22%3A%226240000010%22%2C%22merchant_no%22%3A%22lzxx-chs5%22%2C%22legal_cert_type%22%3A%2200%22%2C%22cert_no%22%3A%22uo43t4wwD9258rXiNfONLj4hewqo10oH%22%2C%22bank_type%22%3A%22%E5%BB%BA%E8%AE%BE%E9%93%B6%E8%A1%8C%22%2C%22bank_account_no%22%3A%2244250100008000000873%22%2C%22legal_tel%22%3A%2218244978867%22%2C%22bank_province%22%3A%22%E5%B9%BF%E4%B8%9C%E7%9C%81%22%2C%22token%22%3A%22TK20190827103810654IXePRhIy%22%2C%22bank_account_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%88%9B%E5%AE%8F%E8%A7%86%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22bank_telephone_no%22%3A%2218244978867%22%2C%22another_name%22%3A%22%E5%88%9B%E5%AE%8F%E8%A7%86%22%2C%22legal_cert_no%22%3A%22uo43t4wwD9258rXiNfONLj4hewqo10oH%22%2C%22bank_city%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%22%7D&charset=UTF-8&method=ysepay.merchant.register.accept&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=YOkR0RQSaeeJZ0NiBMeOgbKCx9xL0Wveqfs36h01misjNvaNQh%2FSricUAWEJPYtkxOhqznYOrbJEgmaUotevaaV0eOCF8kxSNF7QwTk0CcDjfFwEwe77YuRboeQ01D5nVPDqEqAFUwVOwzE3VIO7CPVH1zkFna4IcArOk8VyS%2FfZF8Eq9LUsotVK324CA7dNMKj%2BQgKC4UsWo3BAol0n%2FKQ39SXOZV6dCgLODbOO79T1yHc%2FmRBlw2R7u9mbCgi4mhTCOHtdtXsCnM5oUTskNBWOWUqSWUsfsv%2F41HdgVWYbraea3EQkCXwsyCn6SsOdnDHQEpHW26CQx3DpE8q4cw%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:38:16&version=3.0
2019-08-27 10:38:24.623 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"PvLt6hDRzdo+y58LiFBZL4CBhW6KdcxdLCVCikRQpjpxmQsmyYC+FdoId3RN3hBPgYKO2dLrm+SuxVVONlsFjyJ9QxHrwkooOrtbmrn1ZT/EmGu8XrnnVREhnDgmoBskVVUyjQw7HMQUmrcFmbKKE2yK67wnX760E4H2SfZjDXA=","ysepay_merchant_register_accept_response":{"code":"10000","msg":"Success","usercode":"X1908271038230089693","custname":"深圳市创宏视科技有限公司","custid":"2019082712246200","user_status":"审核失败","createtime":"20190827"}}
2019-08-27 10:38:24.624 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.HtmlService - [注册子商户返回信息==={"sign":"PvLt6hDRzdo+y58LiFBZL4CBhW6KdcxdLCVCikRQpjpxmQsmyYC+FdoId3RN3hBPgYKO2dLrm+SuxVVONlsFjyJ9QxHrwkooOrtbmrn1ZT/EmGu8XrnnVREhnDgmoBskVVUyjQw7HMQUmrcFmbKKE2yK67wnX760E4H2SfZjDXA=","ysepay_merchant_register_accept_response":{"code":"10000","msg":"Success","usercode":"X1908271038230089693","custname":"深圳市创宏视科技有限公司","custid":"2019082712246200","user_status":"审核失败","createtime":"20190827"}}]
2019-08-27 10:38:24.684 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==>  Preparing: update ys_account_info SET user_code = ?, cust_id = ?, user_status = ? WHERE merchant_no=? AND hotel_code=? 
2019-08-27 10:38:24.686 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==> Parameters: X1908271038230089693(String), 2019082712246200(String), 审核失败(String), lzxx-chs5(String), H1(String)
2019-08-27 10:38:24.794 [http-nio-8083-exec-3] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 10:53:54.219 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 7520 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 10:53:54.222 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 10:53:54.262 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5fdcaa40: startup date [Tue Aug 27 10:53:54 CST 2019]; root of context hierarchy
2019-08-27 10:53:55.514 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 10:53:55.531 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 10:53:55.546 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 10:53:55.547 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 10:53:55.556 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 10:53:55.641 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 10:53:56.109 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 10:53:56.113 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 10:53:56.113 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 10:53:56.113 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 10:53:56.113 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 10:53:56.114 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 10:53:56.583 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 10:53:56.803 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 10:53:56.805 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 10:53:56.809 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 10:53:56.817 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 10:53:56.827 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 10:53:56.839 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 10:53:56.843 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 2.983 seconds (JVM running for 3.367)
2019-08-27 10:54:37.045 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 10:54:37.196 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:54:37.451 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:54:37.465 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:54:37.565 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:54:43.654 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:54:43.733 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:54:43.788 [http-nio-8083-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 10:54:44.579 [http-nio-8083-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 10:54:44.586 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==>  Preparing: SELECT `account_id`, `account_name`, `account_pwd`, `created_date` FROM account where account_id=? and account_pwd=? 
2019-08-27 10:54:44.605 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==> Parameters: admin(String), adminpwd(String)
2019-08-27 10:54:44.669 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - <==      Total: 1
2019-08-27 10:54:44.693 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==>  Preparing: SELECT a.id, a.account_id, a.role_id, a.created_date, h.role_name FROM account_role a, hotel_role h WHERE a.role_id = h.role_id AND account_id=? 
2019-08-27 10:54:44.693 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==> Parameters: admin(String)
2019-08-27 10:54:44.748 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - <==      Total: 1
2019-08-27 10:54:44.813 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:54:44.906 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:54:45.019 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:54:45.113 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:54:45.123 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==>  Preparing: SELECT role_id FROM account_role where account_id=? 
2019-08-27 10:54:45.123 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==> Parameters: admin(String)
2019-08-27 10:54:45.180 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - <==      Total: 1
2019-08-27 10:54:46.689 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:54:46.785 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:54:46.851 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:54:46.952 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:54:47.016 [http-nio-8083-exec-7] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:54:47.016 [http-nio-8083-exec-7] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 10:54:47.074 [http-nio-8083-exec-7] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 10:54:47.075 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 10:54:47.076 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs5(String)
2019-08-27 10:54:47.129 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 10:54:47.320 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%22usercode%22%3A%22X1908271038230089693%22%7D&charset=UTF-8&method=ysepay.merchant.register.query&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=P9A%2FTjTa6YuDJNlowDdeXENeVdXZxYAB%2B9xP1H6G1eVy57PsVXeM5LI04gb5YqUIiUUyy5plzYGI%2FDYNiZqaQGW0WtKxhQTK5mTwMONj7nmlUrBI2OpH4CdBYDOUv1WjwKjskpZnP%2BJW4TJdohVFZu70nlyJUcP%2Ba7Q25Tu2bqSA8kJtJ%2B4bkY5u32QwiOd1KQxxRHSGiECkEmZAVcAW1In2Awl10xyD812HNrgcGo%2FAHlbKf0R8eGV6ZIop7tRJIxJocYEf6Dp6qfhFP8Dhnf9zUT8S5%2Fa6VD0CaSvo%2BkygeawV%2BLduoG%2BcvVFWZgOqNzwWpbTovW6cKGftMJ%2B9tA%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:54:47&version=3.0
2019-08-27 10:54:47.837 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"rORcDu+wjh2uSINcyz4tBMCUnDD8LE7KtYet6sNbQS294JZieP1ucAJvFXGa0UWUvGmk3dtqgSwk3sKWcGuEeahYSTeCqqXQZ4uhdnTWvUMDTmHKhhCAsQ8Q+pHGEuhAJrYz8rKwHS99b3bCn7MNh7IuHCdXKvj/19+SgPvvUqE=","ysepay_merchant_register_query_response":{"code":"10000","msg":"Success","usercode":"X1908271038230089693","custname":"深圳市创宏视科技有限公司","custid":"2019082712246200","user_status":"审核失败","createtime":"20190827","cust_status":"审核失败","is_need_contract":"N","merchant_no":"lzxx-chs5","note":"审核不通过"}}
2019-08-27 10:54:47.838 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.service.HtmlService - [查询银盛注册结果返回消息===={"sign":"rORcDu+wjh2uSINcyz4tBMCUnDD8LE7KtYet6sNbQS294JZieP1ucAJvFXGa0UWUvGmk3dtqgSwk3sKWcGuEeahYSTeCqqXQZ4uhdnTWvUMDTmHKhhCAsQ8Q+pHGEuhAJrYz8rKwHS99b3bCn7MNh7IuHCdXKvj/19+SgPvvUqE=","ysepay_merchant_register_query_response":{"code":"10000","msg":"Success","usercode":"X1908271038230089693","custname":"深圳市创宏视科技有限公司","custid":"2019082712246200","user_status":"审核失败","createtime":"20190827","cust_status":"审核失败","is_need_contract":"N","merchant_no":"lzxx-chs5","note":"审核不通过"}}]
2019-08-27 10:54:47.954 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==>  Preparing: update ys_account_info SET user_status = ?, cust_statue = ? WHERE merchant_no=? AND hotel_code=? 
2019-08-27 10:54:47.955 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==> Parameters: 审核失败(String), 审核失败(String), lzxx-chs5(String), H1(String)
2019-08-27 10:54:48.062 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 10:54:48.081 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:54:48.167 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:55:04.191 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:55:04.287 [http-nio-8083-exec-10] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:55:04.440 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where merchant_no = ? and hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:55:04.442 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: lzxx-chs6(String), H1(String)
2019-08-27 10:55:04.497 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 0
2019-08-27 10:55:04.538 [http-nio-8083-exec-10] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - ==>  Preparing: insert into ys_account_info (`merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date ) values ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,? ) 
2019-08-27 10:55:04.540 [http-nio-8083-exec-10] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - ==> Parameters: lzxx-chs6(String), H1(String), 第二测试用户(String), B(String), 创宏视(String), 深圳市创宏视科技有限公司(String), 11(String), 59(String), 广东省(String), 深圳市(String), 宝安区石岩街道石新社区洲石路旭兴达工业区A1栋2楼东侧(String), 钟文锋(String), 18244978867(String), 00(String), 362427198707237311(String), 20370531(String), 91440300MA5DR4HB4Q(String), 20991231(String), 44250100008000000873(String), 深圳市创宏视科技有限公司(String), corporate(String), debit(String), 中国建设银行股份有限公司深圳皇岗支行(String), 建设银行(String), 广东省(String), 深圳市(String), 00(String), 362427198707237311(String), 18244978867(String), null, null, null, null, null, null, null, 2019-08-27 10:55:04.537(Timestamp)
2019-08-27 10:55:04.647 [http-nio-8083-exec-10] DEBUG com.laizhong.hotel.mapper.YsAccountMapper.insert - <==    Updates: 1
2019-08-27 10:55:04.647 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:55:04.648 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs6(String), 00(String)
2019-08-27 10:55:04.702 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:55:04.703 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:55:04.703 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs6(String), 00(String), /static/img/5497bc19-3e5a-44a0-9381-5a9e4fa5f373.jpg(String)
2019-08-27 10:55:04.809 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:55:04.810 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:55:04.811 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs6(String), 30(String)
2019-08-27 10:55:04.864 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:55:04.865 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:55:04.865 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs6(String), 30(String), /static/img/3f2e0e8b-0699-46de-a8c4-064307273f17.jpg(String)
2019-08-27 10:55:04.972 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:55:04.974 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:55:04.974 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs6(String), 31(String)
2019-08-27 10:55:05.027 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:55:05.028 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:55:05.028 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs6(String), 31(String), /static/img/ac2b8682-3f82-4ffb-9716-492168479886.jpg(String)
2019-08-27 10:55:05.133 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:55:05.135 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:55:05.136 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs6(String), 19(String)
2019-08-27 10:55:05.189 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:55:05.189 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:55:05.190 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs6(String), 19(String), /static/img/64b81f19-dbe7-41b7-a4ea-f37a16abf408.jpg(String)
2019-08-27 10:55:05.296 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:55:05.299 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? and img_type=? 
2019-08-27 10:55:05.300 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs6(String), 37(String)
2019-08-27 10:55:05.354 [http-nio-8083-exec-10] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 0
2019-08-27 10:55:05.355 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==>  Preparing: insert into ys_account_info_img ( `merchant_no`, `img_type`, `img_url` ) values ( ?, ?, ? ) 
2019-08-27 10:55:05.355 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - ==> Parameters: lzxx-chs6(String), 37(String), /static/img/f3713d00-593a-4298-bc2c-c38cbc5400be.jpg(String)
2019-08-27 10:55:05.460 [http-nio-8083-exec-10] DEBUG c.l.hotel.mapper.YsAccountImageMapper.insert - <==    Updates: 1
2019-08-27 10:55:09.252 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 10:55:09.347 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 10:55:09.401 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where merchant_no = ? and hotel_code=? order by created_date desc limit 0,1 
2019-08-27 10:55:09.401 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: lzxx-chs6(String), H1(String)
2019-08-27 10:55:09.457 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 10:55:09.473 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%7D&charset=UTF-8&method=ysepay.merchant.register.token.get&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=FFolswH0U6iqo3k2v9nGQ7xToeoWOlSJfjrYwzkWqj278uDInoJGinO%2FTYqw5naKE0ycdnd4Vd%2FbLld7%2FQAfzzN%2FvVs7b1maENtSPQrDQBJx96g5nsZDwP9pvkL9BtMyceScxNcv6WHRogyp3cI1ZgoWaUZ4VuUQLUpJFVavUA%2FhkYL63Kqtfg7oBYqYYKYWnBJ8S%2BROOJCGnJcF2NDiYQ2sWPdDgI9VSpyqBoWVUS7JVJ%2F5YpV3lNSSamxNlp2MZGINAmd2KzP6I0c3Bbk9ivQ6hR8p2Dy5g5SSEZSY1zEDgv7AHCHGOWdpvGNTEG%2BV%2FIGJ1ZT5UcxB5wnZ5KbdOQ%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:55:09&version=3.0
2019-08-27 10:55:09.802 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"Fyrm8jt90aZcaBrHQ4CfS04Dm/ELICDjKFUOdvNe7P/lRiFB0BUQ2/EahDy/bpar2qcUYnBU4E+7CNXnVuoguZZdfHb6UPPUwgGGBpYEfyhRp+3eMO2yq+uDkT1wUf16gOgdER3otvrtN2e9VP92NI+UjDEmF12Iqbep7nKfTrw=","ysepay_merchant_register_token_get_response":{"code":"10000","msg":"Success","token":"TK20190827105511553U3uDjrw6","token_status":"TOKEN_GET_SUCCESS"}}
2019-08-27 10:55:09.803 [http-nio-8083-exec-1] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 10:55:09.803 [http-nio-8083-exec-1] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs6(String)
2019-08-27 10:55:09.857 [http-nio-8083-exec-1] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 10:55:11.399 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs6的图片结果=={"isSuccess":true,"token":"TK20190827105511553U3uDjrw6"}]
2019-08-27 10:55:12.967 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs6的图片结果=={"isSuccess":true,"token":"TK20190827105511553U3uDjrw6"}]
2019-08-27 10:55:14.250 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs6的图片结果=={"isSuccess":true,"token":"TK20190827105511553U3uDjrw6"}]
2019-08-27 10:55:15.244 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs6的图片结果=={"isSuccess":true,"token":"TK20190827105511553U3uDjrw6"}]
2019-08-27 10:55:16.482 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.service.HtmlService - [上传lzxx-chs6的图片结果=={"isSuccess":true,"token":"TK20190827105511553U3uDjrw6"}]
2019-08-27 10:55:16.500 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%22sub_account_flag%22%3A%22Y%22%2C%22settle_type%22%3A%221%22%2C%22cert_type%22%3A%2200%22%2C%22city%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%22%2C%22company_addr%22%3A%22%E5%AE%9D%E5%AE%89%E5%8C%BA%E7%9F%B3%E5%B2%A9%E8%A1%97%E9%81%93%E7%9F%B3%E6%96%B0%E7%A4%BE%E5%8C%BA%E6%B4%B2%E7%9F%B3%E8%B7%AF%E6%97%AD%E5%85%B4%E8%BE%BE%E5%B7%A5%E4%B8%9A%E5%8C%BAA1%E6%A0%8B2%E6%A5%BC%E4%B8%9C%E4%BE%A7%22%2C%22industry%22%3A%2259%22%2C%22province%22%3A%22%E5%B9%BF%E4%B8%9C%E7%9C%81%22%2C%22cust_type%22%3A%22B%22%2C%22bank_card_type%22%3A%22debit%22%2C%22bank_name%22%3A%22%E4%B8%AD%E5%9B%BD%E5%BB%BA%E8%AE%BE%E9%93%B6%E8%A1%8C%E8%82%A1%E4%BB%BD%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E6%B7%B1%E5%9C%B3%E7%9A%87%E5%B2%97%E6%94%AF%E8%A1%8C%22%2C%22bus_license%22%3A%2291440300MA5DR4HB4Q%22%2C%22cust_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%88%9B%E5%AE%8F%E8%A7%86%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22bus_license_expire%22%3A%2220991231%22%2C%22legal_name%22%3A%22%E9%92%9F%E6%96%87%E9%94%8B%22%2C%22bank_account_type%22%3A%22corporate%22%2C%22org_no%22%3A%226240000010%22%2C%22merchant_no%22%3A%22lzxx-chs6%22%2C%22legal_cert_type%22%3A%2200%22%2C%22cert_no%22%3A%22uo43t4wwD9258rXiNfONLj4hewqo10oH%22%2C%22bank_type%22%3A%22%E5%BB%BA%E8%AE%BE%E9%93%B6%E8%A1%8C%22%2C%22bank_account_no%22%3A%2244250100008000000873%22%2C%22legal_tel%22%3A%2218244978867%22%2C%22bank_province%22%3A%22%E5%B9%BF%E4%B8%9C%E7%9C%81%22%2C%22token%22%3A%22TK20190827105511553U3uDjrw6%22%2C%22bank_account_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%88%9B%E5%AE%8F%E8%A7%86%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22bank_telephone_no%22%3A%2218244978867%22%2C%22another_name%22%3A%22%E5%88%9B%E5%AE%8F%E8%A7%86%22%2C%22legal_cert_no%22%3A%22uo43t4wwD9258rXiNfONLj4hewqo10oH%22%2C%22bank_city%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%22%7D&charset=UTF-8&method=ysepay.merchant.register.accept&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=HPe99wpJg1b2jeLzKc4s80AGClWtfK0hKn1cUOn%2FKqM4kDOEV5VfUtqfhZkoXzdK4t1MqMBqu5ZKTDhg0FEtQ9JhapvtSV7ZWDKd4yXm6FxVHpxcRsxT5YcetISg0Ns6KbKvlOWzvXDQGWq6sAt0xSv2oaKLpp9CFfzThuBUn8n5VbAbwWDvvszTZ9bAiKChsJ1f0h8atdp%2FqChz4to7qnRodN5LD6YoiI7BOimopRrU1NRm3d0DwumQJSZV0uTx8abBzsMqgun0kdHaIsa89mfcO17Z728uWseHv%2BYTg1LMNZDHBnL5ZDD088tp%2FYobsBkpPutDmqj9MRyOXSNlwg%3D%3D&sign_type=RSA&timestamp=2019-08-27 10:55:16&version=3.0
2019-08-27 10:55:28.924 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"dqEC2aN3umzPktK5IpExgEvpNG6Cyc4caspCzHaU96x51Ujoa4qklA0AyFfjc4kStw/R8oTo28MmXBHS7o4AhAJyrECfz1bJj6Ik1JAL0XuAyj+TaFbZyyxpagpN45djaV4SC66Avrsjx3hcRUgmBOm14rXEMVxsaYG5EXOk1qM=","ysepay_merchant_register_accept_response":{"code":"10000","msg":"Success","usercode":"X1908271055240089699","custname":"深圳市创宏视科技有限公司","custid":"2019082712246523","user_status":"生效","createtime":"20190827"}}
2019-08-27 10:55:28.924 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.service.HtmlService - [注册子商户返回信息==={"sign":"dqEC2aN3umzPktK5IpExgEvpNG6Cyc4caspCzHaU96x51Ujoa4qklA0AyFfjc4kStw/R8oTo28MmXBHS7o4AhAJyrECfz1bJj6Ik1JAL0XuAyj+TaFbZyyxpagpN45djaV4SC66Avrsjx3hcRUgmBOm14rXEMVxsaYG5EXOk1qM=","ysepay_merchant_register_accept_response":{"code":"10000","msg":"Success","usercode":"X1908271055240089699","custname":"深圳市创宏视科技有限公司","custid":"2019082712246523","user_status":"生效","createtime":"20190827"}}]
2019-08-27 10:55:28.977 [http-nio-8083-exec-1] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==>  Preparing: update ys_account_info SET user_code = ?, cust_id = ?, user_status = ? WHERE merchant_no=? AND hotel_code=? 
2019-08-27 10:55:28.978 [http-nio-8083-exec-1] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==> Parameters: X1908271055240089699(String), 2019082712246523(String), 生效(String), lzxx-chs6(String), H1(String)
2019-08-27 10:55:29.085 [http-nio-8083-exec-1] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 14:17:09.843 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 6516 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 14:17:09.853 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 14:17:09.889 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3ce1e309: startup date [Tue Aug 27 14:17:09 CST 2019]; root of context hierarchy
2019-08-27 14:17:11.288 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 14:17:11.307 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 14:17:11.324 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 14:17:11.325 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 14:17:11.333 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 14:17:11.424 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 14:17:11.917 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 14:17:11.920 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 14:17:11.921 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 14:17:11.921 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 14:17:11.921 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 14:17:11.921 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 14:17:12.413 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 14:17:12.641 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 14:17:12.643 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 14:17:12.647 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 14:17:12.655 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 14:17:12.665 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 14:17:12.676 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 14:17:12.680 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.227 seconds (JVM running for 3.606)
2019-08-27 14:19:31.442 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 14:19:31.789 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 14:19:32.102 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 14:19:32.225 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-28, isInsure=0, qrcode=134856051106003058, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张111, sex=1}]}]
2019-08-27 14:19:32.289 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 14:19:33.171 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 14:19:33.180 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 14:19:33.200 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 14:19:33.267 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 14:19:33.393 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==>  Preparing: insert into checkin_info (trade_no,order_no, hotel_code, room_no, room_price, deposit, checkin_time,out_time, card_num, is_buy_insure, insure_date, created_date,checkin_num,room_type_code,room_type_title,is_check_out) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?) 
2019-08-27 14:19:33.396 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==> Parameters: 2019082714193309233416(String), null, H1(String), A01(String), 128(Integer), 100(Integer), 2019-08-27(String), 2019-08-28(String), 1(Integer), 0(Integer), null, 2019-08-27 14:19:33.393(Timestamp), 1(Integer), r1(String), 高级大床房(String), 0(Integer)
2019-08-27 14:19:33.505 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - <==    Updates: 1
2019-08-27 14:19:33.527 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==>  Preparing: INSERT INTO `checkin_info_tenant` ( `trade_no`, `name`, `mobile`, `credno`, `sex`, `credtype` ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2019-08-27 14:19:33.528 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==> Parameters: 2019082714193309233416(String), 张111(String), null, x1(String), 1(Integer), 0(Integer)
2019-08-27 14:19:33.638 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - <==    Updates: 1
2019-08-27 14:19:33.961 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://qrcode.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22out_trade_no%22%3A%222019082714193309233416%22%2C%22bank_type%22%3A%221902000%22%2C%22seller_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%BE%95%E4%BC%97%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22total_amount%22%3A%220.2%22%2C%22shopdate%22%3A%2220190827%22%2C%22subject%22%3A%22xx%E5%A4%A7%E9%85%92%E5%BA%97%E9%AB%98%E7%BA%A7%E5%A4%A7%E5%BA%8A%E6%88%BFA01%E5%85%A5%E4%BD%8F1%E6%99%9A%22%2C%22timeout_express%22%3A%225m%22%2C%22business_code%22%3A%223010002%22%2C%22seller_id%22%3A%22lzxx%22%2C%22scene%22%3A%22bar_code%22%2C%22auth_code%22%3A%22134856051106003058%22%7D&charset=UTF-8&method=ysepay.online.barcodepay&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/pay&partner_id=lzxx&sign=PuvB0agOgpCyJNoqRE2L5b%2BvUBzUlrAnRQmq%2F4dyZo3fILaxQOjwPSxwIc%2BCFiWNMTixvkhANhTuEbtw4wcIAVu%2B6TzOeO7VugEm%2B5AmrAs7twCooVFxdxXY66SBUbE7LE%2BZ9nnnNLg5O6Br2RWAe8wjuHUYlyoeaS6v4QxhcWbjPQSofgUq6pdXOeC8V%2FIzotCDfHL%2BiKLBCY79HBTwf6n8lR1DG7%2F%2BdSRrcdY4JXvVZAY1NbKjuu7vlfE6dSGTr8ELRZPh%2BJCGHYDGE1j3g88t9b0kzNRouE0CcUMgMlwHPbJSd04kBKontwjrBmpsfmFvA8u7GfxFEo1vUZuk%2Fw%3D%3D&sign_type=RSA&timestamp=2019-08-27 14:19:33&version=3.0
2019-08-27 14:19:34.912 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"UB3qMHPBt6QBHvvBv3RwLeskHGVrc9b4w3WcSVxufpBwn+9Xsn3gfpiJMPZpaU/7vLBMLVbD60amZEYc6ZIBQWQ52k5GzPfRLKbNBIgfmKopfRzpEXtasZ6BqModlDl6+V4fpI8iXRl0OFSbDp4ALbf+Z8++EUKAlfIIT5fcFhY=","ysepay_online_barcodepay_response":{"code":"10000","msg":"Success","out_trade_no":"2019082714193309233416","trade_no":"01O190827983568652","trade_status":"TRADE_PROCESS","total_amount":"0.2","sub_msg":"刷卡支付_(USERPAYING)"}}
2019-08-27 14:19:34.968 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - ==>  Preparing: insert into checkin_info_pay (trade_no,pay_trade_no, pay_trade_type, pay_trade_status,room_price, deposit, return_code, insure_price, created_date) values (?,?, ?, ?,?,?, ?, ?,?) 
2019-08-27 14:19:34.969 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - ==> Parameters: 2019082714193309233416(String), 01O190827983568652(String), WeChat(String), TRADE_PROCESS(String), 128(Integer), 100(Integer), null, 0(Integer), 2019-08-27 14:19:34.914(Timestamp)
2019-08-27 14:19:35.078 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - <==    Updates: 1
2019-08-27 14:45:09.285 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 8220 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 14:45:09.288 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 14:45:09.329 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3ce1e309: startup date [Tue Aug 27 14:45:09 CST 2019]; root of context hierarchy
2019-08-27 14:45:10.877 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 14:45:10.895 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 14:45:10.912 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 14:45:10.912 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 14:45:10.922 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 14:45:11.067 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 14:45:11.941 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 14:45:11.945 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 14:45:11.945 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 14:45:11.947 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 14:45:11.947 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 14:45:11.947 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 14:45:12.740 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 14:45:12.741 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 14:45:12.747 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 14:45:12.757 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 14:45:12.767 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 14:45:12.782 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 14:45:12.787 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.908 seconds (JVM running for 4.329)
2019-08-27 14:46:28.196 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 14:46:28.388 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 14:46:28.660 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 14:46:28.727 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.ReceiveController - [银盛分账回调开始：参数={"tradeNo":["2019082714193309233416"]}]
2019-08-27 14:46:28.791 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 14:46:29.635 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 14:46:29.642 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 14:46:29.662 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 14:46:29.734 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 14:46:29.763 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://commonapi.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22division_mode%22%3A%2202%22%2C%22div_list%22%3A%5B%7B%22div_amount%22%3A%220.2%22%2C%22division_mer_usercode%22%3A%22X1908231708270088745%22%2C%22is_chargeFee%22%3A%2202%22%7D%5D%2C%22total_amount%22%3A%220.2%22%2C%22payee_usercode%22%3A%22lzxx%22%2C%22is_divistion%22%3A%2201%22%2C%22is_again_division%22%3A%22Y%22%7D&charset=UTF-8&method=ysepay.single.division.online.accept&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/division&partner_id=lzxx&sign=&sign_type=RSA&timestamp=2019-08-27 14:46:29&version=3.0
2019-08-27 14:46:30.167 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"DE9/j6BaqKmWz7uFvSFFK1NEAWmDfSpBOYYG9kzQqDwxcjQBcRt89AjxbrdZ2uNu1O4OZwZZY9kpoIXMe//v4m8UMoR+u6Offm+KAwFOWEPlMYmWcO0AXtfzBCc8BI5eJctk03NuB2sUbZbdj3+GhYYBHZO/MYDLsFw/pytsL0I=","ysepay_single_division_online_accept_response":{"code":"40001","msg":"Missing Required Arguments","sub_code":"isv.missing-signature","sub_msg":"缺少签名参数"}}
2019-08-27 14:46:30.168 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.service.YsReceiveService - [分账结果返回消息===={"sign":"DE9/j6BaqKmWz7uFvSFFK1NEAWmDfSpBOYYG9kzQqDwxcjQBcRt89AjxbrdZ2uNu1O4OZwZZY9kpoIXMe//v4m8UMoR+u6Offm+KAwFOWEPlMYmWcO0AXtfzBCc8BI5eJctk03NuB2sUbZbdj3+GhYYBHZO/MYDLsFw/pytsL0I=","ysepay_single_division_online_accept_response":{"code":"40001","msg":"Missing Required Arguments","sub_code":"isv.missing-signature","sub_msg":"缺少签名参数"}}]
2019-08-27 14:46:30.234 [http-nio-8083-exec-2] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==>  Preparing: update checkin_info_pay 
2019-08-27 14:46:30.234 [http-nio-8083-exec-2] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==> Parameters: 
2019-08-27 14:46:30.363 [http-nio-8083-exec-2] INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-08-27 14:46:50.287 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 18320 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 14:46:50.290 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 14:46:50.336 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@158da8e: startup date [Tue Aug 27 14:46:50 CST 2019]; root of context hierarchy
2019-08-27 14:46:51.841 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 14:46:51.858 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 14:46:51.877 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 14:46:51.878 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 14:46:51.889 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 14:46:52.005 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 14:46:52.612 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 14:46:52.618 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 14:46:52.618 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 14:46:52.618 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 14:46:52.619 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 14:46:52.619 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 14:46:53.191 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 14:46:53.470 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 14:46:53.471 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 14:46:53.474 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 14:46:53.485 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 14:46:53.496 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 14:46:53.511 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 14:46:53.513 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.621 seconds (JVM running for 4.046)
2019-08-27 14:47:01.799 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 14:47:02.020 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 14:47:02.172 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 14:47:02.233 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.controller.ReceiveController - [银盛分账回调开始：参数={"tradeNo":["2019082714193309233416"]}]
2019-08-27 14:47:02.284 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 14:47:03.105 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 14:47:03.112 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 14:47:03.132 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 14:47:03.201 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 14:47:03.458 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://commonapi.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22division_mode%22%3A%2202%22%2C%22div_list%22%3A%5B%7B%22div_amount%22%3A%220.2%22%2C%22division_mer_usercode%22%3A%22X1908231708270088745%22%2C%22is_chargeFee%22%3A%2202%22%7D%5D%2C%22total_amount%22%3A%220.2%22%2C%22payee_usercode%22%3A%22lzxx%22%2C%22is_divistion%22%3A%2201%22%2C%22is_again_division%22%3A%22Y%22%7D&charset=UTF-8&method=ysepay.single.division.online.accept&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/division&partner_id=lzxx&sign=WDJM4BKzT%2BCqZfZ8feH%2FFMr1LbiC1tWr2MZfwH7A%2Bmwnv2BMcpIGoVla6N4TPl1J82klG7T0cktZM%2FLCi3eLMSPlFuiFD6YHedKRdTpWZYQ%2BFxOaMhbc4CcMcoRaoy%2BjlBrczJ5ZaAYwFQKoWLC02m6kAaDpK7FCWq2dQmQ4CPx%2BLBtMclg8rN96Kvo6XDpJfqQhCYQd8D3IdyYZWLHugGH8NfcIUFCsU6IToUcHF0H6FKGNF%2BCn5yptLp2j7Tbqj29MqwVdxjmqsbuM%2FPjAgL0AGXpCTyKx%2BLn%2BVV753GtwCrg3m1G%2F%2FtYSoLivLwJjns8l9tQEyjYiOheMiaDrDw%3D%3D&sign_type=RSA&timestamp=2019-08-27 14:47:03&version=3.0
2019-08-27 14:47:03.604 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"n5jK9I7AKxp2ze0MFwBeow4OmasoHvyEwFJz843gCFSmSARK/pgb+89rrHpvv6OZinbq1LajlO9FNRj1GOKNubV267mqkMZW4p7bGu/7Pp7QCChEyJq32zvM5pTs8KMRhnoZv+N6n3+CJ3kaKoTMBNHrzja/UG7jmsnSwHSBUws=","ysepay_single_division_online_accept_response":{"code":"40003","msg":"业务参数验证错误","sub_code":"ACQ.INVALID_PARAMETER","sub_msg":"无效的业务参数对象名：biz_content, 错误数量:1 具体错误： [out_trade_no:订单号不能为空、空值或者空字符串  ] "}}
2019-08-27 14:47:03.605 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.service.YsReceiveService - [分账结果返回消息===={"sign":"n5jK9I7AKxp2ze0MFwBeow4OmasoHvyEwFJz843gCFSmSARK/pgb+89rrHpvv6OZinbq1LajlO9FNRj1GOKNubV267mqkMZW4p7bGu/7Pp7QCChEyJq32zvM5pTs8KMRhnoZv+N6n3+CJ3kaKoTMBNHrzja/UG7jmsnSwHSBUws=","ysepay_single_division_online_accept_response":{"code":"40003","msg":"业务参数验证错误","sub_code":"ACQ.INVALID_PARAMETER","sub_msg":"无效的业务参数对象名：biz_content, 错误数量:1 具体错误： [out_trade_no:订单号不能为空、空值或者空字符串  ] "}}]
2019-08-27 14:47:03.687 [http-nio-8083-exec-1] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==>  Preparing: update checkin_info_pay 
2019-08-27 14:47:03.688 [http-nio-8083-exec-1] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==> Parameters: 
2019-08-27 14:47:03.808 [http-nio-8083-exec-1] INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2019-08-27 14:47:56.609 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 14:47:56.837 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 14:47:56.838 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.controller.ReceiveController - [银盛分账回调开始：参数={"out_trade_no":["2019082714193309233416"]}]
2019-08-27 14:47:56.893 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 14:47:56.894 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 14:47:56.950 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 14:47:56.965 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://commonapi.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22division_mode%22%3A%2202%22%2C%22div_list%22%3A%5B%7B%22div_amount%22%3A%220.2%22%2C%22division_mer_usercode%22%3A%22X1908231708270088745%22%2C%22is_chargeFee%22%3A%2202%22%7D%5D%2C%22out_trade_no%22%3A%222019082714193309233416%22%2C%22total_amount%22%3A%220.2%22%2C%22payee_usercode%22%3A%22lzxx%22%2C%22is_divistion%22%3A%2201%22%2C%22is_again_division%22%3A%22Y%22%7D&charset=UTF-8&method=ysepay.single.division.online.accept&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/division&partner_id=lzxx&sign=hsGsw7Gf%2FvtMKR3qWUVx5gdhCDUFiyRTF8hA6geGNOw1Xh%2BpGfIS1lR%2FMqeduxiP%2BnNjaTS1vNn4QvyfXvC%2BbNd%2Fw6bix428iZkErmafQbGClvk6qdrwOlhi1%2BJeda0fBVDd4OFDD0HDXbtFpbkWPYzyKogkp0oVyvFlgcb0raazlLwLz92htRcwrgq3SzzgrfOoaRMt%2FcBqhNg0Ml3%2BZIeYmPTNfH76HtPwCFDKalokoyxBgxmxD%2Bp%2BdWH%2B9h%2FC2zvz0GFQLU41zESaC1oIxcR0G0pSbI9j3Iu1RnddRosnBINom58BbdnNyM%2FyOT4SeuBLnZzFgwXkIWr4vRl2Vg%3D%3D&sign_type=RSA&timestamp=2019-08-27 14:47:56&version=3.0
2019-08-27 14:47:59.319 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"N7+oHyMxf66KSXXSASPuM8fqJGdSPfxXUs7gaNLmgReE7yw6z0xxCYaR+cP0/QxAaPC6ZBp5mCbkwwgaSdJ673n76KItZLW4KY4hY61clCxY2ucAwYCmZA/b/iK2u3Kil1lj6yxncTB2AZjtEsx476uq5cPGcYwaQtXY4Gqjmv4=","ysepay_single_division_online_accept_response":{"code":"10000","msg":"Success","returnCode":"9999","retrunInfo":"有且只有一方收取手续费，请检查后重试！"}}
2019-08-27 14:47:59.319 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.service.YsReceiveService - [分账结果返回消息===={"sign":"N7+oHyMxf66KSXXSASPuM8fqJGdSPfxXUs7gaNLmgReE7yw6z0xxCYaR+cP0/QxAaPC6ZBp5mCbkwwgaSdJ673n76KItZLW4KY4hY61clCxY2ucAwYCmZA/b/iK2u3Kil1lj6yxncTB2AZjtEsx476uq5cPGcYwaQtXY4Gqjmv4=","ysepay_single_division_online_accept_response":{"code":"10000","msg":"Success","returnCode":"9999","retrunInfo":"有且只有一方收取手续费，请检查后重试！"}}]
2019-08-27 14:47:59.375 [http-nio-8083-exec-3] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==>  Preparing: update checkin_info_pay SET return_code = ?, return_info = ? WHERE trade_no=? 
2019-08-27 14:47:59.375 [http-nio-8083-exec-3] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==> Parameters: 9999(String), 有且只有一方收取手续费，请检查后重试！(String), 2019082714193309233416(String)
2019-08-27 14:51:09.162 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 12772 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 14:51:09.166 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 14:51:09.213 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@74e52303: startup date [Tue Aug 27 14:51:09 CST 2019]; root of context hierarchy
2019-08-27 14:51:10.755 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 14:51:10.779 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 14:51:10.796 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 14:51:10.797 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 14:51:10.807 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 14:51:10.918 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 14:51:11.441 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 14:51:11.444 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 14:51:11.444 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 14:51:11.444 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 14:51:11.446 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 14:51:11.446 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 14:51:12.009 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 14:51:12.268 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 14:51:12.269 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 14:51:12.275 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 14:51:12.284 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 14:51:12.294 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 14:51:12.307 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 14:51:12.310 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.553 seconds (JVM running for 3.97)
2019-08-27 14:51:52.067 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 14:51:52.259 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 14:51:52.523 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 14:51:52.586 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.ReceiveController - [银盛分账回调开始：参数={"out_trade_no":["2019082311483349525884"]}]
2019-08-27 14:51:52.641 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 14:51:53.441 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 14:51:53.452 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 14:51:53.473 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 14:51:53.538 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 14:51:53.793 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://commonapi.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22division_mode%22%3A%2202%22%2C%22div_list%22%3A%5B%7B%22div_amount%22%3A%220.2%22%2C%22division_mer_usercode%22%3A%22X1908231708270088745%22%2C%22is_chargeFee%22%3A%2202%22%7D%5D%2C%22out_trade_no%22%3A%222019082311483349525884%22%2C%22total_amount%22%3A%220.2%22%2C%22payee_usercode%22%3A%22lzxx%22%2C%22is_divistion%22%3A%2201%22%2C%22is_again_division%22%3A%22Y%22%7D&charset=UTF-8&method=ysepay.single.division.online.accept&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/division&partner_id=lzxx&sign=0O4yObyMNZFqQX9ie5Y6z8%2BoesSXnoFB72v4EcVnAJv9AH%2FNes2ySL4WoSOTdZpPbkzVvBAZ976uI0zX46ZQ1P%2B3ALH0yGO5VUdyHddDePgMLWXvXwM51VfRsqwnd1%2FdOL%2F6ZRQQ0NMNjmVdmHqRCPZU8t%2BxusdCtgFxH7fxJFXm5qwCd19Ws68PrZ9jbL05Ilbh3s8z%2BUizssboZrdJ9%2FoKMGvRucZK20l5ydCEIO02YHk7xPmQpGH4v90hEfWnRBK%2Fx%2BgzE6fffQBbwkPVmJ%2B1ONyE5DImzHNUF9d4fkHnlMfVGRu%2BmwzS9K0SUvh5st0ukAO0Nebuq2rkHQehAQ%3D%3D&sign_type=RSA&timestamp=2019-08-27 14:51:53&version=3.0
2019-08-27 14:51:53.978 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"N7+oHyMxf66KSXXSASPuM8fqJGdSPfxXUs7gaNLmgReE7yw6z0xxCYaR+cP0/QxAaPC6ZBp5mCbkwwgaSdJ673n76KItZLW4KY4hY61clCxY2ucAwYCmZA/b/iK2u3Kil1lj6yxncTB2AZjtEsx476uq5cPGcYwaQtXY4Gqjmv4=","ysepay_single_division_online_accept_response":{"code":"10000","msg":"Success","returnCode":"9999","retrunInfo":"有且只有一方收取手续费，请检查后重试！"}}
2019-08-27 14:51:53.978 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.service.YsReceiveService - [分账结果返回消息===={"sign":"N7+oHyMxf66KSXXSASPuM8fqJGdSPfxXUs7gaNLmgReE7yw6z0xxCYaR+cP0/QxAaPC6ZBp5mCbkwwgaSdJ673n76KItZLW4KY4hY61clCxY2ucAwYCmZA/b/iK2u3Kil1lj6yxncTB2AZjtEsx476uq5cPGcYwaQtXY4Gqjmv4=","ysepay_single_division_online_accept_response":{"code":"10000","msg":"Success","returnCode":"9999","retrunInfo":"有且只有一方收取手续费，请检查后重试！"}}]
2019-08-27 14:51:54.014 [http-nio-8083-exec-2] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==>  Preparing: update checkin_info_pay SET return_code = ?, return_info = ? WHERE trade_no=? 
2019-08-27 14:51:54.014 [http-nio-8083-exec-2] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==> Parameters: 9999(String), 有且只有一方收取手续费，请检查后重试！(String), 2019082311483349525884(String)
2019-08-27 14:51:54.119 [http-nio-8083-exec-2] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 15:06:46.089 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:06:46.303 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:06:46.310 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:06:46.410 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:07:06.386 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:07:06.472 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:07:11.511 [http-nio-8083-exec-7] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@1a0a3ebe (No operations allowed after connection closed.)
2019-08-27 15:07:16.514 [http-nio-8083-exec-7] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@57a874cf (No operations allowed after connection closed.)
2019-08-27 15:07:21.517 [http-nio-8083-exec-7] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@1c1c4f4a (No operations allowed after connection closed.)
2019-08-27 15:07:26.519 [http-nio-8083-exec-7] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@2e64745b (No operations allowed after connection closed.)
2019-08-27 15:07:31.521 [http-nio-8083-exec-7] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@3a7e7354 (No operations allowed after connection closed.)
2019-08-27 15:07:36.523 [http-nio-8083-exec-7] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@4aab5bf5 (No operations allowed after connection closed.)
2019-08-27 15:07:36.530 [http-nio-8083-exec-7] ERROR o.a.c.c.C.[.[.[/laizhong].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/laizhong] threw exception [Request processing failed; nested exception is org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30029ms.
### The error may exist in file [E:\projects\laizhong\hotel\bin\main\mapper\AccountMapper.xml]
### The error may involve com.laizhong.hotel.mapper.AccountMapper.getAccountByIdAndPwd
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30029ms.] with root cause
com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:919)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:898)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:887)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:861)
	at com.mysql.jdbc.ConnectionImpl.throwConnectionClosedException(ConnectionImpl.java:1192)
	at com.mysql.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:1187)
	at com.mysql.jdbc.ConnectionImpl.setNetworkTimeout(ConnectionImpl.java:5494)
	at com.zaxxer.hikari.pool.PoolBase.setNetworkTimeout(PoolBase.java:541)
	at com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:162)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:172)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:148)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:157)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:336)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:85)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:324)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at com.github.pagehelper.PageInterceptor.intercept(PageInterceptor.java:108)
	at org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:61)
	at com.sun.proxy.$Proxy88.query(Unknown Source)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:140)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:76)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:426)
	at com.sun.proxy.$Proxy61.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:159)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:57)
	at com.sun.proxy.$Proxy62.getAccountByIdAndPwd(Unknown Source)
	at com.laizhong.hotel.service.AuthService.login(AuthService.java:59)
	at com.laizhong.hotel.controller.HtmlAPI.auth(HtmlAPI.java:57)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:981)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:884)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:858)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at com.laizhong.hotel.filter.LoginFilter.doFilterInternal(LoginFilter.java:112)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:109)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:798)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:806)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1498)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
2019-08-27 15:07:49.800 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:07:50.014 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:07:55.017 [http-nio-8083-exec-8] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@9da2a0c (No operations allowed after connection closed.)
2019-08-27 15:08:00.021 [http-nio-8083-exec-8] WARN  com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Failed to validate connection com.mysql.jdbc.JDBC4Connection@58072aa0 (No operations allowed after connection closed.)
2019-08-27 15:08:06.191 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 14752 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:08:06.193 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:08:06.231 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@74e52303: startup date [Tue Aug 27 15:08:06 CST 2019]; root of context hierarchy
2019-08-27 15:08:07.605 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:08:07.622 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:08:07.640 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:08:07.640 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:08:07.649 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:08:07.742 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:08:08.243 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:08:08.246 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:08:08.246 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:08:08.246 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:08:08.247 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:08:08.247 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:08:08.755 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:08:09.019 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:08:09.020 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:08:09.025 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:08:09.034 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:08:09.046 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:08:09.061 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:08:09.064 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.265 seconds (JVM running for 3.672)
2019-08-27 15:08:17.456 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 15:08:17.619 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:08:17.759 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:08:17.824 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 15:08:18.611 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 15:08:18.619 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==>  Preparing: SELECT `account_id`, `account_name`, `account_pwd`, `created_date` FROM account where account_id=? and account_pwd=? 
2019-08-27 15:08:18.637 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==> Parameters: admin(String), adminpwd(String)
2019-08-27 15:08:18.699 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - <==      Total: 1
2019-08-27 15:08:18.742 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==>  Preparing: SELECT a.id, a.account_id, a.role_id, a.created_date, h.role_name FROM account_role a, hotel_role h WHERE a.role_id = h.role_id AND account_id=? 
2019-08-27 15:08:18.742 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==> Parameters: admin(String)
2019-08-27 15:08:18.796 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - <==      Total: 1
2019-08-27 15:08:18.870 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:08:18.966 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:08:19.019 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:08:19.074 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:08:19.112 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:08:19.170 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:08:19.180 [http-nio-8083-exec-4] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==>  Preparing: SELECT role_id FROM account_role where account_id=? 
2019-08-27 15:08:19.181 [http-nio-8083-exec-4] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==> Parameters: admin(String)
2019-08-27 15:08:19.235 [http-nio-8083-exec-4] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - <==      Total: 1
2019-08-27 15:08:26.374 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:08:26.461 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:08:26.596 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:08:26.687 [http-nio-8083-exec-6] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:08:26.747 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 15:08:26.747 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 15:08:26.803 [http-nio-8083-exec-6] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 15:08:26.804 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 15:08:26.804 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs6(String)
2019-08-27 15:08:26.858 [http-nio-8083-exec-6] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 15:10:30.280 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 9100 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:10:30.284 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:10:30.335 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@47af7f3d: startup date [Tue Aug 27 15:10:30 CST 2019]; root of context hierarchy
2019-08-27 15:10:31.854 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:10:31.882 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:10:31.902 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:10:31.902 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:10:31.928 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:10:32.028 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:10:32.612 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:10:32.617 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:10:32.617 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:10:32.618 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:10:32.618 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:10:32.618 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:10:33.157 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:10:33.402 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:10:33.403 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:10:33.408 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:10:33.420 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:10:33.429 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:10:33.440 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:10:33.444 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.555 seconds (JVM running for 3.976)
2019-08-27 15:10:37.137 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 15:10:37.310 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:10:37.593 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:10:37.609 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:10:37.705 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:10:43.246 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:10:43.337 [http-nio-8083-exec-3] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:10:43.417 [http-nio-8083-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 15:10:44.245 [http-nio-8083-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 15:10:44.252 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==>  Preparing: SELECT `account_id`, `account_name`, `account_pwd`, `created_date` FROM account where account_id=? and account_pwd=? 
2019-08-27 15:10:44.270 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - ==> Parameters: admin(String), adminpwd(String)
2019-08-27 15:10:44.331 [http-nio-8083-exec-3] DEBUG c.l.h.mapper.AccountMapper.getAccountByIdAndPwd - <==      Total: 1
2019-08-27 15:10:44.354 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==>  Preparing: SELECT a.id, a.account_id, a.role_id, a.created_date, h.role_name FROM account_role a, hotel_role h WHERE a.role_id = h.role_id AND account_id=? 
2019-08-27 15:10:44.355 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - ==> Parameters: admin(String)
2019-08-27 15:10:44.407 [http-nio-8083-exec-3] DEBUG c.l.hotel.mapper.AccountRoleMapper.getAccountRoles - <==      Total: 1
2019-08-27 15:10:44.470 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:10:44.571 [http-nio-8083-exec-4] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:10:44.669 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:10:44.756 [http-nio-8083-exec-5] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:10:44.765 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==>  Preparing: SELECT role_id FROM account_role where account_id=? 
2019-08-27 15:10:44.765 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - ==> Parameters: admin(String)
2019-08-27 15:10:44.817 [http-nio-8083-exec-5] DEBUG c.l.h.mapper.AccountRoleMapper.getAccountRoleIds - <==      Total: 1
2019-08-27 15:10:52.575 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:10:52.675 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:10:52.736 [http-nio-8083-exec-7] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 15:10:52.736 [http-nio-8083-exec-7] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 15:10:52.791 [http-nio-8083-exec-7] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 15:10:52.793 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.getImageByModelSelective - ==>  Preparing: SELECT `id`, `merchant_no`, `img_type`, `img_url` FROM ys_account_info_img WHERE merchant_no = ? 
2019-08-27 15:10:52.793 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.getImageByModelSelective - ==> Parameters: lzxx-chs6(String)
2019-08-27 15:10:52.845 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.getImageByModelSelective - <==      Total: 5
2019-08-27 15:10:53.024 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://register.ysepay.com:2443/register_gateway/gateway.do],请求数据:
biz_content=%7B%22usercode%22%3A%22X1908271055240089699%22%7D&charset=UTF-8&method=ysepay.merchant.register.query&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/common&partner_id=lzxx&sign=hK%2Fbzzo49n9hDpPXvUuGPSmBCFNY3pWN%2BYog%2F0FWY%2FHBl3D%2BLNJfe%2FL45GXaFGbLDIaMcx7v%2FfLGoVnHl3wOwrys1PmDLIC9JFt3KoDyEA%2FhbGdfPLsBsWZGCrcXJrxWs15zKKz2EAKy6DRqcDxWy1t3UdJzEtF2cMHYYxba1DX0rd7oiZZHovv%2BtFYbe33J8sUg%2Bb0h37sBd9ccNHuluxLRrwfLIKJ%2BW0szZ%2FEVsPnv%2F88Dve5Bqr1y8xfZZ2xc0dxCHjKddEj7lB%2BxwiW%2FE6d9Qkbm58xf3wCVsApDz9QKmOljQGEw5H5dPhM4fFCGdvN7QwsmT7Vth4tIMHEqlw%3D%3D&sign_type=RSA&timestamp=2019-08-27 15:10:52&version=3.0
2019-08-27 15:10:53.599 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"I8i5Aim11F3aShN2S5vIHnXjG92Ic4xb4KYLqdTQ2E9x2IBNGMiBt1Tw8N06cQDY81Q0Q3oJ6w4PkvEmvVylLUErmCKpKLZuBQ5z2tAQuhn4GJprmjsUNXv2+7uzb3QMnazlKEDhV5E6au4P2uLWxhfqZdJHwaWQjDJs1rAPltM=","ysepay_merchant_register_query_response":{"code":"10000","msg":"Success","usercode":"X1908271055240089699","custname":"深圳市创宏视科技有限公司","custid":"2019082712246523","user_status":"生效","createtime":"20190827","cust_status":"生效","is_need_contract":"N","merchant_no":"lzxx-chs6","note":""}}
2019-08-27 15:10:53.599 [http-nio-8083-exec-7] INFO  com.laizhong.hotel.service.HtmlService - [查询银盛注册结果返回消息===={"sign":"I8i5Aim11F3aShN2S5vIHnXjG92Ic4xb4KYLqdTQ2E9x2IBNGMiBt1Tw8N06cQDY81Q0Q3oJ6w4PkvEmvVylLUErmCKpKLZuBQ5z2tAQuhn4GJprmjsUNXv2+7uzb3QMnazlKEDhV5E6au4P2uLWxhfqZdJHwaWQjDJs1rAPltM=","ysepay_merchant_register_query_response":{"code":"10000","msg":"Success","usercode":"X1908271055240089699","custname":"深圳市创宏视科技有限公司","custid":"2019082712246523","user_status":"生效","createtime":"20190827","cust_status":"生效","is_need_contract":"N","merchant_no":"lzxx-chs6","note":""}}]
2019-08-27 15:10:53.709 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==>  Preparing: update ys_account_info SET user_status = ?, cust_statue = ? WHERE merchant_no=? AND hotel_code=? 
2019-08-27 15:10:53.709 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - ==> Parameters: 生效(String), 生效(String), lzxx-chs6(String), H1(String)
2019-08-27 15:10:53.813 [http-nio-8083-exec-7] DEBUG c.l.h.m.Y.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 15:10:53.840 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:10:53.936 [http-nio-8083-exec-8] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:17:04.696 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 21620 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:17:04.699 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:17:04.748 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@694abbdc: startup date [Tue Aug 27 15:17:04 CST 2019]; root of context hierarchy
2019-08-27 15:17:06.272 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:17:06.294 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:17:06.311 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:17:06.311 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:17:06.322 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:17:06.415 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:17:06.912 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:17:06.916 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:17:06.917 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:17:06.917 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:17:06.917 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:17:06.917 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:17:07.449 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:17:07.676 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:17:07.677 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:17:07.681 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:17:07.689 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:17:07.698 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:17:07.709 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:17:07.712 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.399 seconds (JVM running for 3.791)
2019-08-27 15:17:24.639 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 15:17:24.841 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:17:25.103 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:17:25.157 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.ReceiveController - [银盛分账回调开始：参数={"out_trade_no":["2019082311483349525884"]}]
2019-08-27 15:17:25.211 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 15:17:26.011 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 15:17:26.020 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==>  Preparing: SELECT `merchant_no`, `hotel_code`, `remark`, `cust_type`, `another_name`, `cust_name`, `mer_flag`, `industry`, `province`, `city`, `company_addr`, `legal_name`, `legal_tel`, `legal_cert_type`, `legal_cert_no`, `legal_cert_expire`, `bus_license`, `bus_license_expire`, `bank_account_no`, `bank_account_name`, `bank_account_type`, `bank_card_type`, `bank_name`, `bank_type`, `bank_province`, `bank_city`, `cert_type`, `cert_no`, `bank_telephone_no`, `user_code`, `cust_id`, `user_status`, `cust_statue`, `is_need_contract`, `online_url`, `offline_url`, created_date FROM ys_account_info where hotel_code=? order by created_date desc limit 0,1 
2019-08-27 15:17:26.043 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - ==> Parameters: H1(String)
2019-08-27 15:17:26.109 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.YsAccountMapper.getYsAccount - <==      Total: 1
2019-08-27 15:17:26.318 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://commonapi.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22division_mode%22%3A%2202%22%2C%22div_list%22%3A%5B%7B%22div_amount%22%3A%220.2%22%2C%22division_mer_usercode%22%3A%22X1908271055240089699%22%2C%22is_chargeFee%22%3A%2201%22%7D%5D%2C%22out_trade_no%22%3A%222019082311483349525884%22%2C%22total_amount%22%3A%220.2%22%2C%22payee_usercode%22%3A%22lzxx%22%2C%22is_divistion%22%3A%2201%22%2C%22is_again_division%22%3A%22Y%22%7D&charset=UTF-8&method=ysepay.single.division.online.accept&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/division&partner_id=lzxx&sign=s5oUtk1S2Wtco6%2Bk2MXI21%2FMhyclo74af3B8Ino3QVfbydSwpJEtjMf%2F5Sv%2BCPcop3o3JOQiWrO9zn7sHi9QEdG%2Fk5fWoF3buFaMk9L9i6%2B9Hx66ZjLfwEuT0n2VT22hLMHsZil1fQRiQp4jmcHEi9LIDUvl2k26%2BBHsHqRzSpBO%2FSWrzGqdFQbIcE4uZI1kpy%2B25wi%2FAoJpQJj4bxesi8BN8ttHbppdgigNeQM8woXbh4AfsMg%2FGZpwLLOINJKbyWMfL4IOcNFUH86iBCPnF2HU4O0cmdhMERIBh2ceVGA2IbJKL3YBmvkht%2Fe%2BQJTJnueTH%2FM%2F967Q1FobRpHm7w%3D%3D&sign_type=RSA&timestamp=2019-08-27 15:17:26&version=3.0
2019-08-27 15:17:26.607 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"gclkFOgvRHZ+/294XlFcdsvuZNrFujiDnRtl64NebldAS5lcYoStrGUTQCPncfST7HAMNC1mIyQtISqS9oOSYIy+92uACbBOryUGp1G/NTRWjIIh4Dst1pE8lp7w7dBTNpKgoTBUbmvwnEJIqbItcaar9sOpFmZluOCPaFrHQYk=","ysepay_single_division_online_accept_response":{"code":"10000","msg":"Success","returnCode":"0000","retrunInfo":"受理成功!"}}
2019-08-27 15:17:26.607 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.service.YsReceiveService - [分账结果返回消息===={"sign":"gclkFOgvRHZ+/294XlFcdsvuZNrFujiDnRtl64NebldAS5lcYoStrGUTQCPncfST7HAMNC1mIyQtISqS9oOSYIy+92uACbBOryUGp1G/NTRWjIIh4Dst1pE8lp7w7dBTNpKgoTBUbmvwnEJIqbItcaar9sOpFmZluOCPaFrHQYk=","ysepay_single_division_online_accept_response":{"code":"10000","msg":"Success","returnCode":"0000","retrunInfo":"受理成功!"}}]
2019-08-27 15:17:26.698 [http-nio-8083-exec-2] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==>  Preparing: update checkin_info_pay SET return_code = ?, return_info = ? WHERE trade_no=? 
2019-08-27 15:17:26.699 [http-nio-8083-exec-2] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - ==> Parameters: 0000(String), 受理成功!(String), 2019082311483349525884(String)
2019-08-27 15:17:26.804 [http-nio-8083-exec-2] DEBUG c.l.h.m.C.updateByPrimaryKeySelective - <==    Updates: 1
2019-08-27 15:30:00.752 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 5568 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:30:00.754 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:30:00.801 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@661972b0: startup date [Tue Aug 27 15:30:00 CST 2019]; root of context hierarchy
2019-08-27 15:30:02.280 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:30:02.298 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:30:02.315 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:30:02.315 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:30:02.324 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:30:02.426 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:30:03.001 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:30:03.005 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:30:03.005 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:30:03.005 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:30:03.006 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:30:03.006 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:30:03.541 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:30:03.771 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:30:03.772 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:30:03.776 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:30:03.785 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:30:03.795 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:30:03.808 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:30:03.811 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.497 seconds (JVM running for 3.899)
2019-08-27 15:47:15.329 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 12672 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:47:15.332 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:47:15.385 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61862a7f: startup date [Tue Aug 27 15:47:15 CST 2019]; root of context hierarchy
2019-08-27 15:47:16.909 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:47:16.927 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:47:16.944 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:47:16.944 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:47:16.955 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:47:17.056 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:47:17.610 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:47:17.613 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:47:17.613 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:47:17.613 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:47:17.613 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:47:17.614 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:47:18.207 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:47:18.464 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:47:18.465 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:47:18.472 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:47:18.487 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:47:18.497 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:47:18.511 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:47:18.513 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.589 seconds (JVM running for 4.017)
2019-08-27 15:48:24.990 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 15:48:25.178 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:48:25.437 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:48:25.501 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=134986354964913067, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 15:48:25.553 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 15:48:26.370 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 15:48:26.377 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 15:48:26.399 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 15:48:26.464 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 15:48:26.569 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==>  Preparing: insert into checkin_info (trade_no,order_no, hotel_code, room_no, room_price, deposit, checkin_time,out_time, card_num, is_buy_insure, insure_date, created_date,checkin_num,room_type_code,room_type_title,is_check_out) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?) 
2019-08-27 15:48:26.572 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==> Parameters: 2019082715482619589683(String), null, H1(String), A01(String), 128(Integer), 100(Integer), 2019-08-27(String), 2019-08-29(String), 1(Integer), 1(Integer), 2019-08-27 15:48:26.568(Timestamp), 2019-08-27 15:48:26.568(Timestamp), 1(Integer), r1(String), 高级大床房(String), 0(Integer)
2019-08-27 15:48:26.679 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - <==    Updates: 1
2019-08-27 15:48:26.698 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==>  Preparing: INSERT INTO `checkin_info_tenant` ( `trade_no`, `name`, `mobile`, `credno`, `sex`, `credtype` ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2019-08-27 15:48:26.699 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==> Parameters: 2019082715482619589683(String), 张22(String), null, x1(String), 1(Integer), 0(Integer)
2019-08-27 15:48:26.807 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - <==    Updates: 1
2019-08-27 15:48:27.000 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://qrcode.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22out_trade_no%22%3A%222019082715482619589683%22%2C%22bank_type%22%3A%221902000%22%2C%22seller_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%BE%95%E4%BC%97%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22total_amount%22%3A%220.30000000000000004%22%2C%22shopdate%22%3A%2220190827%22%2C%22subject%22%3A%22xx%E5%A4%A7%E9%85%92%E5%BA%97%E9%AB%98%E7%BA%A7%E5%A4%A7%E5%BA%8A%E6%88%BFA01%E5%85%A5%E4%BD%8F2%E6%99%9A%22%2C%22timeout_express%22%3A%225m%22%2C%22business_code%22%3A%223010002%22%2C%22seller_id%22%3A%22lzxx%22%2C%22scene%22%3A%22bar_code%22%2C%22auth_code%22%3A%22134986354964913067%22%7D&charset=UTF-8&method=ysepay.online.barcodepay&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/pay&partner_id=lzxx&sign=eNXFw6YiKT6G9UtFEVM%2BfFXprps8cm1fAAYYBEZicwfU4AqrqrC8lb45xKWqFFcNOf9vFwXufEaWKmbtTHp03zeJ8M68XG7a3p2Hg3WZxEyqNXR74Zp7ePxsIERIFZ%2FdLZ%2FWgADpdRfX5WJZ8B8%2BwLg8gu9FiIxLVqAgS3UjN2IqtzMBeHMmomeR8Lhg3qgo8ZY7nK3chQHgxwGNajJlT3iE4Y4HUkjTEqi4q68p%2B211aVCAayEj1vVXNox2%2FuDNXGL631CRnA5BVyJkcyeWjzsOnbI9zfaRCuwUJ%2FX54zpcFjQ%2Ff%2FaIRfUqPQVbR%2B%2FrnXeTKtMVaiwwi5ViNeww6w%3D%3D&sign_type=RSA&timestamp=2019-08-27 15:48:26&version=3.0
2019-08-27 15:48:28.252 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"OTux/1Bvh5+5b77nAhEB99rUoHrnG0Ywp9tU4XaC+dWMeAg56OFqnVk5cfS8XpKAPSA9GSJh3YJkd/fu/Ppkxr0b1F/As1k7PTX3K9pjL/ozaQMKK24aM7+cop2WOC36R6uyGokYeju8LGUex6nIgA8NxUWZTiYB2LCWw8c2iww=","ysepay_online_barcodepay_response":{"code":"40003","msg":"业务参数验证错误","sub_code":"ACQ.INVALID_PARAMETER","sub_msg":"无效的业务参数对象名：biz_content, 错误数量:1 具体错误： [total_amount:订单的资金总额格式不对，取值范围为[0.01，99999999.00]，精确到小数点后两位。] ,out_trade_no:2019082715482619589683"}}
2019-08-27 15:50:42.259 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 6148 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:50:42.265 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:50:42.339 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@758705fa: startup date [Tue Aug 27 15:50:42 CST 2019]; root of context hierarchy
2019-08-27 15:50:44.448 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:50:44.477 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:50:44.497 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:50:44.497 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:50:44.512 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:50:44.651 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:50:45.324 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:50:45.330 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:50:45.331 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:50:45.331 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:50:45.332 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:50:45.332 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:50:46.542 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:50:46.939 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:50:46.941 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:50:46.945 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:50:46.957 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:50:46.967 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:50:47.011 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:50:47.014 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 5.535 seconds (JVM running for 6.448)
2019-08-27 15:51:08.584 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 15:51:08.809 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:51:14.442 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:51:14.526 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=134986354964913067, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 15:51:14.590 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 15:51:15.396 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 15:51:15.405 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 15:51:15.426 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 15:51:15.492 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 15:51:54.757 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 10036 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:51:54.760 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:51:54.831 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@21fd5faa: startup date [Tue Aug 27 15:51:54 CST 2019]; root of context hierarchy
2019-08-27 15:51:56.893 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:51:56.921 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:51:56.942 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:51:56.942 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:51:56.956 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:51:57.120 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:51:57.860 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:51:57.866 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:51:57.866 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:51:57.866 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:51:57.867 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:51:57.867 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:51:59.231 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:51:59.672 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:51:59.674 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:51:59.680 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:51:59.691 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:51:59.701 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:51:59.736 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:51:59.759 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 5.864 seconds (JVM running for 6.84)
2019-08-27 15:52:05.326 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 15:52:05.530 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:52:05.692 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:52:05.780 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=134986354964913067, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 15:52:05.856 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 15:52:06.721 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 15:52:06.730 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 15:52:06.756 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 15:52:06.825 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 15:54:22.607 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 18020 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:54:22.620 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:54:22.696 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@344f4dea: startup date [Tue Aug 27 15:54:22 CST 2019]; root of context hierarchy
2019-08-27 15:54:24.892 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:54:24.915 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:54:24.939 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:54:24.939 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:54:24.957 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:54:25.118 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:54:25.826 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:54:25.831 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:54:25.831 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:54:25.831 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:54:25.831 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:54:25.832 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:54:27.405 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:54:27.829 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:54:27.831 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:54:27.835 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:54:27.848 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:54:27.862 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:54:27.905 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:54:27.916 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 6.181 seconds (JVM running for 7.105)
2019-08-27 15:55:28.973 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 15:55:29.157 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:55:29.433 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:55:29.527 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=134986354964913067, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 15:55:29.592 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 15:55:30.484 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 15:55:30.497 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 15:55:30.517 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 15:55:30.591 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 15:55:46.974 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==>  Preparing: insert into checkin_info (trade_no,order_no, hotel_code, room_no, room_price, deposit, checkin_time,out_time, card_num, is_buy_insure, insure_date, created_date,checkin_num,room_type_code,room_type_title,is_check_out) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?) 
2019-08-27 15:55:47.071 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==> Parameters: 2019082715554044966153(String), null, H1(String), A01(String), 128(Integer), 100(Integer), 2019-08-27(String), 2019-08-29(String), 1(Integer), 1(Integer), 2019-08-27 15:55:43.882(Timestamp), 2019-08-27 15:55:43.268(Timestamp), 1(Integer), r1(String), 高级大床房(String), 0(Integer)
2019-08-27 15:55:47.196 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - <==    Updates: 1
2019-08-27 15:55:51.849 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==>  Preparing: INSERT INTO `checkin_info_tenant` ( `trade_no`, `name`, `mobile`, `credno`, `sex`, `credtype` ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2019-08-27 15:55:51.880 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==> Parameters: 2019082715554044966153(String), 张22(String), null, x1(String), 1(Integer), 0(Integer)
2019-08-27 15:55:52.005 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - <==    Updates: 1
2019-08-27 15:56:47.702 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 23036 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 15:56:47.710 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 15:56:47.834 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@106cc338: startup date [Tue Aug 27 15:56:47 CST 2019]; root of context hierarchy
2019-08-27 15:56:52.425 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 15:56:52.444 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 15:56:52.465 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 15:56:52.466 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 15:56:52.494 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 15:56:52.633 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 15:56:53.295 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 15:56:53.302 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 15:56:53.303 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 15:56:53.303 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 15:56:53.303 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 15:56:53.304 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 15:56:54.600 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 15:56:55.081 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 15:56:55.083 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 15:56:55.089 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 15:56:55.099 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 15:56:55.112 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 15:56:55.149 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 15:56:55.153 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 9.207 seconds (JVM running for 11.344)
2019-08-27 15:56:59.521 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 15:56:59.706 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 15:56:59.984 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 15:57:00.083 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=134986354964913067, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 15:57:00.156 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 15:57:00.980 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 15:57:00.990 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 15:57:01.012 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 15:57:01.077 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 15:57:08.098 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==>  Preparing: insert into checkin_info (trade_no,order_no, hotel_code, room_no, room_price, deposit, checkin_time,out_time, card_num, is_buy_insure, insure_date, created_date,checkin_num,room_type_code,room_type_title,is_check_out) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?) 
2019-08-27 15:57:08.100 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==> Parameters: 2019082715570805090008(String), null, H1(String), A01(String), 128(Integer), 100(Integer), 2019-08-27(String), 2019-08-29(String), 1(Integer), 1(Integer), 2019-08-27 15:57:08.046(Timestamp), 2019-08-27 15:57:08.046(Timestamp), 1(Integer), r1(String), 高级大床房(String), 0(Integer)
2019-08-27 15:57:08.204 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - <==    Updates: 1
2019-08-27 15:57:11.451 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==>  Preparing: INSERT INTO `checkin_info_tenant` ( `trade_no`, `name`, `mobile`, `credno`, `sex`, `credtype` ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2019-08-27 15:57:11.452 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==> Parameters: 2019082715570805090008(String), 张22(String), null, x1(String), 1(Integer), 0(Integer)
2019-08-27 15:57:11.557 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - <==    Updates: 1
2019-08-27 16:00:11.142 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 21284 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 16:00:11.147 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 16:00:11.238 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6155d082: startup date [Tue Aug 27 16:00:11 CST 2019]; root of context hierarchy
2019-08-27 16:00:13.529 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 16:00:13.552 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 16:00:13.574 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 16:00:13.574 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 16:00:13.594 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 16:00:13.780 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 16:00:14.459 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 16:00:14.464 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 16:00:14.464 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 16:00:14.465 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 16:00:14.465 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 16:00:14.465 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 16:00:15.925 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 16:00:16.396 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 16:00:16.398 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 16:00:16.405 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 16:00:16.416 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 16:00:16.429 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 16:00:16.475 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 16:00:16.479 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 6.172 seconds (JVM running for 7.13)
2019-08-27 16:00:28.973 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 16:00:29.159 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 16:00:29.432 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 16:00:29.522 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=134986354964913067, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 16:00:29.583 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 16:00:30.408 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 16:00:30.418 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 16:00:30.440 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 16:00:30.503 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 16:00:32.744 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==>  Preparing: insert into checkin_info (trade_no,order_no, hotel_code, room_no, room_price, deposit, checkin_time,out_time, card_num, is_buy_insure, insure_date, created_date,checkin_num,room_type_code,room_type_title,is_check_out) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?) 
2019-08-27 16:00:32.746 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==> Parameters: 2019082716003299990383(String), null, H1(String), A01(String), 128(Integer), 100(Integer), 2019-08-27(String), 2019-08-29(String), 1(Integer), 1(Integer), 2019-08-27 16:00:32.693(Timestamp), 2019-08-27 16:00:32.693(Timestamp), 1(Integer), r1(String), 高级大床房(String), 0(Integer)
2019-08-27 16:00:32.850 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - <==    Updates: 1
2019-08-27 16:00:34.111 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==>  Preparing: INSERT INTO `checkin_info_tenant` ( `trade_no`, `name`, `mobile`, `credno`, `sex`, `credtype` ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2019-08-27 16:00:34.112 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==> Parameters: 2019082716003299990383(String), 张22(String), null, x1(String), 1(Integer), 0(Integer)
2019-08-27 16:00:34.216 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - <==    Updates: 1
2019-08-27 16:00:51.234 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 13428 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 16:00:51.237 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 16:00:51.285 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@61862a7f: startup date [Tue Aug 27 16:00:51 CST 2019]; root of context hierarchy
2019-08-27 16:00:53.446 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 16:00:53.463 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 16:00:53.480 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 16:00:53.480 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 16:00:53.491 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 16:00:53.594 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 16:00:54.178 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 16:00:54.182 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 16:00:54.182 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 16:00:54.182 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 16:00:54.182 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 16:00:54.182 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 16:00:54.752 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 16:00:55.093 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 16:00:55.094 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 16:00:55.098 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 16:00:55.112 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 16:00:55.126 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 16:00:55.139 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 16:00:55.143 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 4.304 seconds (JVM running for 4.728)
2019-08-27 16:01:18.072 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 16:01:18.291 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 16:01:18.450 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 16:01:18.527 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=134971300449009044, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 16:01:18.577 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 16:01:19.350 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 16:01:19.356 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 16:01:19.374 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 16:01:19.437 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 16:01:19.531 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==>  Preparing: insert into checkin_info (trade_no,order_no, hotel_code, room_no, room_price, deposit, checkin_time,out_time, card_num, is_buy_insure, insure_date, created_date,checkin_num,room_type_code,room_type_title,is_check_out) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?) 
2019-08-27 16:01:19.540 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==> Parameters: 2019082716011944681905(String), null, H1(String), A01(String), 128(Integer), 100(Integer), 2019-08-27(String), 2019-08-29(String), 1(Integer), 1(Integer), 2019-08-27 16:01:19.531(Timestamp), 2019-08-27 16:01:19.531(Timestamp), 1(Integer), r1(String), 高级大床房(String), 0(Integer)
2019-08-27 16:01:19.643 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - <==    Updates: 1
2019-08-27 16:01:19.663 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==>  Preparing: INSERT INTO `checkin_info_tenant` ( `trade_no`, `name`, `mobile`, `credno`, `sex`, `credtype` ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2019-08-27 16:01:19.663 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==> Parameters: 2019082716011944681905(String), 张22(String), null, x1(String), 1(Integer), 0(Integer)
2019-08-27 16:01:19.767 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - <==    Updates: 1
2019-08-27 16:01:19.980 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://qrcode.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22out_trade_no%22%3A%222019082716011944681905%22%2C%22bank_type%22%3A%221902000%22%2C%22seller_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%BE%95%E4%BC%97%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22total_amount%22%3A%220.3%22%2C%22shopdate%22%3A%2220190827%22%2C%22subject%22%3A%22xx%E5%A4%A7%E9%85%92%E5%BA%97%E9%AB%98%E7%BA%A7%E5%A4%A7%E5%BA%8A%E6%88%BFA01%E5%85%A5%E4%BD%8F2%E6%99%9A%22%2C%22timeout_express%22%3A%225m%22%2C%22business_code%22%3A%223010002%22%2C%22seller_id%22%3A%22lzxx%22%2C%22scene%22%3A%22bar_code%22%2C%22auth_code%22%3A%22134971300449009044%22%7D&charset=UTF-8&method=ysepay.online.barcodepay&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/pay&partner_id=lzxx&sign=AWlp8DS3JyaWQ6Rvl%2FMvme%2FeSrp5U6HSJbEhtZmxFv5ICaytkiuAKyH6NUiIUWwtyKOa0ju1j5CPBwPDx5KbBKBoEo4oifX%2Fz2Vk1zliDRbKyQ16foZ2stLjsgN%2BR4vINUJiSr7%2Fu0UJ6PtEkEbp8zClcOw%2BkNGcVXPb5s10OS7vv0QDl%2BzopVCxVLt3tBX%2B%2FK4upFw%2FBwBkCbpqwJ5qG8didnioyBdl8wfAcUagaGU90b1%2B1uEXVoDhlzw4Jv9o6kW6zMXr22ho7zim7MaijUlxPofGIuHDDH%2B0Nod3MG3H9O08U1qTLWUDIW1lb7L8j18UC%2BwFlrRbVtCzql8yQg%3D%3D&sign_type=RSA&timestamp=2019-08-27 16:01:19&version=3.0
2019-08-27 16:01:20.914 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"LcFOKp+BvvkuDHDbH8dwePG5BlHwuXvq2A8/OyCiFhcdZ40Gz2407++hND6vut0qiEy+75+nadnCEKIuQ6OOXWCZFU+QaCSpj2ucRSWmj3RrkJZv4Da3J9ODSsyCgmIsAdVz807BaiSBo4LLXQ7IMzX1V/AQ+jpJ68RPSKd/xfU=","ysepay_online_barcodepay_response":{"code":"10000","msg":"Success","out_trade_no":"2019082716011944681905","trade_no":"01O190827986096656","trade_status":"TRADE_PROCESS","total_amount":"0.3","sub_msg":"刷卡支付_(USERPAYING)"}}
2019-08-27 16:01:20.966 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - ==>  Preparing: insert into checkin_info_pay (trade_no,pay_trade_no, pay_trade_type, pay_trade_status,room_price, deposit, return_code, insure_price, created_date,return_info) values (?,?, ?, ?,?,?, ?, ?,?,?) 
2019-08-27 16:01:20.967 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - ==> Parameters: 2019082716011944681905(String), 01O190827986096656(String), WeChat(String), TRADE_PROCESS(String), 128(Integer), 100(Integer), null, 2(Integer), 2019-08-27 16:01:20.916(Timestamp), null
2019-08-27 16:01:21.070 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - <==    Updates: 1
2019-08-27 16:09:34.605 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 3892 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 16:09:34.609 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 16:09:34.662 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4fb0f2b9: startup date [Tue Aug 27 16:09:34 CST 2019]; root of context hierarchy
2019-08-27 16:09:55.460 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 16944 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 16:09:55.462 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 16:09:55.517 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@6aba2b86: startup date [Tue Aug 27 16:09:55 CST 2019]; root of context hierarchy
2019-08-27 16:09:57.072 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 16:09:57.094 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 16:09:57.111 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 16:09:57.111 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 16:09:57.122 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 16:09:57.219 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 16:09:57.737 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 16:09:57.740 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 16:09:57.740 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 16:09:57.740 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 16:09:57.741 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 16:09:57.741 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 16:09:58.312 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 16:09:58.642 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 16:09:58.645 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 16:09:58.648 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 16:09:58.662 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 16:09:58.673 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 16:09:58.690 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 16:09:58.693 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.648 seconds (JVM running for 4.073)
2019-08-27 16:10:32.753 [http-nio-8083-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 16:10:32.966 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 16:10:33.231 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 16:10:33.300 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=134859858936894409, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 16:10:33.354 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 16:10:34.159 [http-nio-8083-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 16:10:34.165 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 16:10:34.188 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 16:10:34.248 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 16:10:34.348 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==>  Preparing: insert into checkin_info (trade_no,order_no, hotel_code, room_no, room_price, deposit, checkin_time,out_time, card_num, is_buy_insure, insure_date, created_date,checkin_num,room_type_code,room_type_title,is_check_out) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?) 
2019-08-27 16:10:34.350 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==> Parameters: 2019082716103425786985(String), null, H1(String), A01(String), 128(Integer), 100(Integer), 2019-08-27(String), 2019-08-29(String), 1(Integer), 1(Integer), 2019-08-27 16:10:34.348(Timestamp), 2019-08-27 16:10:34.348(Timestamp), 1(Integer), r1(String), 高级大床房(String), 0(Integer)
2019-08-27 16:10:34.461 [http-nio-8083-exec-1] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - <==    Updates: 1
2019-08-27 16:10:34.481 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==>  Preparing: INSERT INTO `checkin_info_tenant` ( `trade_no`, `name`, `mobile`, `credno`, `sex`, `credtype` ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2019-08-27 16:10:34.482 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==> Parameters: 2019082716103425786985(String), 张22(String), null, x1(String), 1(Integer), 0(Integer)
2019-08-27 16:10:34.584 [http-nio-8083-exec-1] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - <==    Updates: 1
2019-08-27 16:10:34.805 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://qrcode.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22out_trade_no%22%3A%222019082716103425786985%22%2C%22bank_type%22%3A%221902000%22%2C%22seller_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%BE%95%E4%BC%97%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22total_amount%22%3A%220.3%22%2C%22shopdate%22%3A%2220190827%22%2C%22subject%22%3A%22xx%E5%A4%A7%E9%85%92%E5%BA%97%E9%AB%98%E7%BA%A7%E5%A4%A7%E5%BA%8A%E6%88%BFA01%E5%85%A5%E4%BD%8F2%E6%99%9A%22%2C%22timeout_express%22%3A%225m%22%2C%22business_code%22%3A%223010002%22%2C%22seller_id%22%3A%22lzxx%22%2C%22scene%22%3A%22bar_code%22%2C%22auth_code%22%3A%22134859858936894409%22%7D&charset=UTF-8&method=ysepay.online.barcodepay&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/pay&partner_id=lzxx&sign=tFuCrfSYvtCeQHKzEPAN6tHAV1ah94fjAC41XtVdV885K2x430B8YeCoL321V2SfeyilWSbxvEcbpwvgbtdA6ujoBn9QggaY1q8ekhaHWOy9H%2FvmgFurFF3%2BI2Xu4PEq8wOfy6sCOySbCCnys30%2BAwDiZIo0BcAhLfNzjppgj3cMLQq6u4nz96nICrh2yvR7U4r1NsxW59J3a2mTuhv2sElMKQ%2Bn4l6nWvCQCDw8TX8LzElg4Db6Y9nE1cTmE7KfR14BQzTE3W1Ost4z%2BsYtoBednlgWftm09Cavh6%2BAcPwu3%2Fs0cSAg1cxNAXlvmkzJmhg65kHVgSQ0sYK5Kks8zw%3D%3D&sign_type=RSA&timestamp=2019-08-27 16:10:34&version=3.0
2019-08-27 16:10:37.013 [http-nio-8083-exec-1] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"U2mbP14d89RdpOzKU7CqvA9/zeqhWG0PH9jXWGrg65R4XkeqVcMMdGJBg5RSXDiteNIgPcCb9VUQVFRnUY6PE0S3BAn+XjMixUXse/sgDnuBC38V6QkldbPJO69a+MzMupNMsjK0Q8+FvFX+OJzJptGfL9kwsKHoZ6DD70GqUaM=","ysepay_online_barcodepay_response":{"code":"10000","msg":"Success","out_trade_no":"2019082716103425786985","trade_no":"01O190827986322463","trade_status":"TRADE_PROCESS","total_amount":"0.3","sub_msg":"刷卡支付_(USERPAYING)"}}
2019-08-27 16:10:37.066 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - ==>  Preparing: insert into checkin_info_pay (trade_no,pay_trade_no, pay_trade_type, pay_trade_status,room_price, deposit, return_code, insure_price, created_date,return_info) values (?,?, ?, ?,?,?, ?, ?,?,?) 
2019-08-27 16:10:37.066 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - ==> Parameters: 2019082716103425786985(String), 01O190827986322463(String), WeChat(String), TRADE_PROCESS(String), 128(Integer), 100(Integer), null, 2(Integer), 2019-08-27 16:10:37.014(Timestamp), null
2019-08-27 16:10:37.170 [http-nio-8083-exec-1] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - <==    Updates: 1
2019-08-27 16:18:16.330 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 11600 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 16:18:16.333 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 16:18:16.382 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@3ce1e309: startup date [Tue Aug 27 16:18:16 CST 2019]; root of context hierarchy
2019-08-27 16:18:17.977 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 16:18:17.993 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 16:18:18.015 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 16:18:18.015 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 16:18:18.029 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 16:18:18.146 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 16:18:18.688 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 16:18:18.692 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 16:18:18.692 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 16:18:18.693 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 16:18:18.693 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 16:18:18.693 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 16:18:19.259 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 16:18:19.509 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 16:18:19.514 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 16:18:19.521 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 16:18:19.531 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 16:18:19.543 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 16:18:19.555 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 16:18:19.558 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.628 seconds (JVM running for 4.036)
2019-08-27 16:19:20.179 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 16:19:20.383 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 16:19:20.648 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 16:19:20.721 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.HotelAPI - [开始办理入住，请求参数={hotelCode=H1, checkinDate=2019-08-27, checkoutDate=2019-08-29, isInsure=1, qrcode=135031038139767762, roomPrice=128, payWay=WeChat, deposit=100, roomNo=A01, checkinNum=1, cardnum=1, roomTypeCode=r1, roomTypeTitle=高级大床房, customerList=[{credno=x1, credtype=0, name=张22, sex=1}]}]
2019-08-27 16:19:20.767 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2019-08-27 16:19:21.571 [http-nio-8083-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2019-08-27 16:19:21.580 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==>  Preparing: SELECT `hotel_code`, `hotel_name`, `hotel_desc`, `hotel_image`, `hotel_sys_url`, `hotel_breakfast`, `hotel_deposit`, `hotel_video_url`, `secret_key`, `hotel_qrcode` FROM hotel_info WHERE hotel_code = ? 
2019-08-27 16:19:21.598 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - ==> Parameters: H1(String)
2019-08-27 16:19:21.663 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.HotelInfoMapper.getHotelInfoByCode - <==      Total: 1
2019-08-27 16:19:21.758 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==>  Preparing: insert into checkin_info (trade_no,order_no, hotel_code, room_no, room_price, deposit, checkin_time,out_time, card_num, is_buy_insure, insure_date, created_date,checkin_num,room_type_code,room_type_title,is_check_out) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,?, ?,?,?) 
2019-08-27 16:19:21.762 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - ==> Parameters: 2019082716192143692626(String), null, H1(String), A01(String), 128(Integer), 100(Integer), 2019-08-27(String), 2019-08-29(String), 1(Integer), 1(Integer), 2019-08-27 16:19:21.758(Timestamp), 2019-08-27 16:19:21.758(Timestamp), 1(Integer), r1(String), 高级大床房(String), 0(Integer)
2019-08-27 16:19:21.872 [http-nio-8083-exec-2] DEBUG com.laizhong.hotel.mapper.CheckinInfoMapper.insert - <==    Updates: 1
2019-08-27 16:19:21.890 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==>  Preparing: INSERT INTO `checkin_info_tenant` ( `trade_no`, `name`, `mobile`, `credno`, `sex`, `credtype` ) VALUES ( ?, ?, ?, ?, ?, ? ) 
2019-08-27 16:19:21.891 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - ==> Parameters: 2019082716192143692626(String), 张22(String), null, x1(String), 1(Integer), 0(Integer)
2019-08-27 16:19:21.999 [http-nio-8083-exec-2] DEBUG c.l.h.mapper.CheckinInfoTenantMapper.batchInsert - <==    Updates: 1
2019-08-27 16:19:22.207 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://qrcode.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22out_trade_no%22%3A%222019082716192143692626%22%2C%22bank_type%22%3A%221902000%22%2C%22seller_name%22%3A%22%E6%B7%B1%E5%9C%B3%E5%B8%82%E5%BE%95%E4%BC%97%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%22%2C%22total_amount%22%3A%220.3%22%2C%22shopdate%22%3A%2220190827%22%2C%22subject%22%3A%22xx%E5%A4%A7%E9%85%92%E5%BA%97%E9%AB%98%E7%BA%A7%E5%A4%A7%E5%BA%8A%E6%88%BFA01%E5%85%A5%E4%BD%8F2%E6%99%9A%22%2C%22timeout_express%22%3A%225m%22%2C%22business_code%22%3A%223010002%22%2C%22seller_id%22%3A%22lzxx%22%2C%22scene%22%3A%22bar_code%22%2C%22auth_code%22%3A%22135031038139767762%22%7D&charset=UTF-8&method=ysepay.online.barcodepay&notify_url=http://221.8.219.106:8083/laizhong/app/api/yspay/receive/pay&partner_id=lzxx&sign=LWldvfIP0DL5V90Qkwhib9pkPxkhQ2F6QpWnj3sO7OMhUXCjFjneHJWATuYcfU82GsgGw1aSx5LiXt4nmPKm9C0FkeXWG2ZvLcJPnDvfPH2g1238avfPqoPFxhgIqBP8dZjBz%2BlJBvEu5xVuc4F66THW9bHGjEylxdNRACu6QG7%2BO7rqgs9MIsQMb60GRnWSMgBVQ864N4C8lRWygMXrL7kO29t88GW0%2Fn7DTUO50jys6uA1v8V5RP23DbCcOTfsFXJnA2IuZIhLQLzkW0OGpXvPamIGXSfAzbIPvYnrAePUghTfyu2%2BTj1BEeOyhMU2GBb3tuMFEsTdFL7wxGc%2BHA%3D%3D&sign_type=RSA&timestamp=2019-08-27 16:19:22&version=3.0
2019-08-27 16:19:23.157 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"J2Ku6uqDe9bByXoSqsoLBVAMphiooLAclo6hCBMKsGg4bi4bdQnGPO9rP1Q+/Nh/jf+sK2I8Ud6RgEMhOUakuINX9jExW0VfYi4PLSfj3XvEzss/m9RB4FqjbCcTv3bbZjplczDfjXkkJymxxvVIfcCDpKHo/e10gC5LBUXJnMM=","ysepay_online_barcodepay_response":{"code":"10000","msg":"Success","out_trade_no":"2019082716192143692626","trade_no":"01O190827986539270","trade_status":"TRADE_PROCESS","total_amount":"0.3","sub_msg":"刷卡支付_(USERPAYING)"}}
2019-08-27 16:19:23.212 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - ==>  Preparing: insert into checkin_info_pay (trade_no,pay_trade_no, pay_trade_type, pay_trade_status,room_price, deposit, return_code, insure_price, created_date,return_info) values (?,?, ?, ?,?,?, ?, ?,?,?) 
2019-08-27 16:19:23.213 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - ==> Parameters: 2019082716192143692626(String), 01O190827986539270(String), WeChat(String), TRADE_PROCESS(String), 128(Integer), 100(Integer), null, 2(Integer), 2019-08-27 16:19:23.158(Timestamp), null
2019-08-27 16:19:23.323 [http-nio-8083-exec-2] DEBUG c.l.hotel.mapper.CheckinInfoPayMapper.insert - <==    Updates: 1
2019-08-27 17:07:28.612 [main] INFO  com.laizhong.hotel.HotelApplication - Starting HotelApplication on DS-TS-0246 with PID 15872 (E:\projects\laizhong\hotel\bin\main started by ex-zhousiting in E:\projects\laizhong\hotel)
2019-08-27 17:07:28.631 [main] INFO  com.laizhong.hotel.HotelApplication - No active profile set, falling back to default profiles: default
2019-08-27 17:07:28.671 [main] INFO  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@4567f35d: startup date [Tue Aug 27 17:07:28 CST 2019]; root of context hierarchy
2019-08-27 17:07:30.204 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8083 (http)
2019-08-27 17:07:30.223 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8083"]
2019-08-27 17:07:30.242 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2019-08-27 17:07:30.242 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet Engine: Apache Tomcat/8.5.39
2019-08-27 17:07:30.251 [localhost-startStop-1] INFO  org.apache.catalina.core.AprLifecycleListener - The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [E:\environment\java\java\jdk1.8\bin;C:\windows\Sun\Java\bin;C:\windows\system32;C:\windows;E:/environment/java/java/jdk1.8/bin/../jre/bin/server;E:/environment/java/java/jdk1.8/bin/../jre/bin;E:/environment/java/java/jdk1.8/bin/../jre/lib/amd64;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;"E:\environment\java\java\jdk1.8\bin;E:\environment\java\java\jdk1.8\jre\bin;";C:\Users\ex-zhousiting\AppData\Local\Microsoft\WindowsApps;C:\Program Files\Bandizip\;D:\Program Files\instantclient_11_2;E:\environment\java\java\jdk1.8\bin;E:\environment\tomcat\Tomcat 6.0\Tomcat 6.0\bin;E:\Tools\nodejs\nodejs;E:\environment\python;E:\environment\Git\bin;E:\environment\gradle-4.7\bin;;E:\Java软件\eclipse-jee-photon\eclipse;;.]
2019-08-27 17:07:30.368 [localhost-startStop-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring embedded WebApplicationContext
2019-08-27 17:07:30.899 [localhost-startStop-1] INFO  o.s.boot.web.servlet.ServletRegistrationBean - Servlet dispatcherServlet mapped to [/]
2019-08-27 17:07:30.902 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'characterEncodingFilter' to: [/*]
2019-08-27 17:07:30.903 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2019-08-27 17:07:30.903 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2019-08-27 17:07:30.903 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'requestContextFilter' to: [/*]
2019-08-27 17:07:30.904 [localhost-startStop-1] INFO  o.s.boot.web.servlet.FilterRegistrationBean - Mapping filter: 'com.laizhong.hotel.filter.LoginFilter' to: [/*]
2019-08-27 17:07:31.444 [main] INFO  o.s.b.a.web.servlet.WelcomePageHandlerMapping - Adding welcome page: class path resource [static/index.html]
2019-08-27 17:07:31.709 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Registering beans for JMX exposure on startup
2019-08-27 17:07:31.710 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Bean with name 'dataSource' has been autodetected for JMX exposure
2019-08-27 17:07:31.714 [main] INFO  o.s.jmx.export.annotation.AnnotationMBeanExporter - Located MBean 'dataSource': registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-08-27 17:07:31.723 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8083"]
2019-08-27 17:07:31.732 [main] INFO  org.apache.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
2019-08-27 17:07:31.746 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8083 (http) with context path '/laizhong'
2019-08-27 17:07:31.749 [main] INFO  com.laizhong.hotel.HotelApplication - Started HotelApplication in 3.559 seconds (JVM running for 3.967)
2019-08-27 17:08:37.728 [http-nio-8083-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/laizhong] - Initializing Spring FrameworkServlet 'dispatcherServlet'
2019-08-27 17:08:37.926 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - begin Sent Http Get Request,url=http://kty-bucket.oss-cn-beijing.aliyuncs.com/password.txt
2019-08-27 17:08:38.246 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.utils.HttpClientUtil - end Http Get Request,result=ResponseEntityProxy{[Content-Type: text/plain,Content-Length: 32,Chunked: false]}
2019-08-27 17:08:38.310 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.controller.ReceiveController - [银盛分账回调开始：参数={"tradeNo":["2019082311483349525884"],"payTradeNo":["01O190823885863535"]}]
2019-08-27 17:08:42.526 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 请求地址[https://openapi.ysepay.com/gateway.do],请求数据:
biz_content=%7B%22out_trade_no%22%3A%222019082311483349525884%22%2C%22shopdate%22%3A%2220190823%22%2C%22trade_no%22%3A%2201O190823885863535%22%7D&charset=UTF-8&method=ysepay.online.trade.delivered&partner_id=lzxx&sign=GTZBgnWOnHdTjquwXnAAyAEYSr%2BUcTbH1dZe4fh3IxNxKiQZsUG65ggW4Bga9D%2F2mokslptePbkjnc8yu2rnoUuMdp33ZZWdxPeSEMh%2BK9kG4KA%2BKtVJuPDmpda2zT46Eu%2BhFu%2FrVJT%2Bbn0Hw2YZNtILD1gIghcaR2CeVQurw6ezOIHf0UxYcvOv7hHjggF8PR9hrzMrHTGuPzo3K31LKtZ95629Xe91hApKGN4lJ3IUUqATz%2BBZEdlH4BgUEYw38gJm0M2sArCbaEI17MhyyEW1sfR%2BvdLptpjjsscScQ7qOyDXbzXH0I98NcMjAnSN7hDWMMlNPS21eFmgQ%2BXRuA%3D%3D&sign_type=RSA&timestamp=2019-08-27 17:08:38&version=3.0
2019-08-27 17:08:42.748 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.pay.ys.utils.Https - 响应数据:
{"sign":"q6WkOgvR5189cchOE2Sp0JSkhAiWo6qVaQzU3vYajS7JfDnINPbXxv+iyrMLrAdnH7WiRnUSpccsCmJRUscnQaRcYDkmYJfEUwlx4x8REa+xEq6Zc0ZOECAfopWWfzRsQ4+wsun+LeiXvXYUNWJpzZoe8179ZHwUJWmkZ61K0rg=","ysepay_online_trade_delivered_response":{"code":"40004","msg":"业务异常","sub_code":"3166","sub_msg":"原交易类型不支持该操作,out_trade_no:2019082311483349525884"}}
2019-08-27 17:08:42.749 [http-nio-8083-exec-2] INFO  com.laizhong.hotel.service.YsReceiveService - [担保交易结果返回消息===={"sign":"q6WkOgvR5189cchOE2Sp0JSkhAiWo6qVaQzU3vYajS7JfDnINPbXxv+iyrMLrAdnH7WiRnUSpccsCmJRUscnQaRcYDkmYJfEUwlx4x8REa+xEq6Zc0ZOECAfopWWfzRsQ4+wsun+LeiXvXYUNWJpzZoe8179ZHwUJWmkZ61K0rg=","ysepay_online_trade_delivered_response":{"code":"40004","msg":"业务异常","sub_code":"3166","sub_msg":"原交易类型不支持该操作,out_trade_no:2019082311483349525884"}}]
